{"version":3,"sources":["Component/Common/ToolTip/index.js","config/index.js","tool/keycode.js","Component/Exclusive/Category/index.js","tool/event.js","Component/Exclusive/Tip/index.js","Component/Exclusive/Status/index.js","Component/Common/CloseBtn/index.js","Component/Common/Checkbox/index.js","tool/adaptor.js","Component/Render/Time/index.js","Component/Render/Tags/index.js","Component/Render/HyperLink/index.js","Component/Render/Emphasize/index.js","Component/Render/Code/index.js","Component/Render/Delete/index.js","Component/Render/Text/index.js","tool/parser_test.js","tool/parser.js","Component/Exclusive/UndoList/UndoLi.js","Component/Exclusive/Input/index.js","tool/json.js","Component/Exclusive/UndoList/index.js","Component/Exclusive/Tool/index.js","tool/file.js","Component/Common/Uploader/index.js","Component/Exclusive/ColorTheme/index.js","tool/drag.js","Component/Common/Modal/BaseModal/index.js","Component/Common/Modal/Confirm/index.js","Component/Exclusive/FilterTags/index.js","App.js","index.js","tool/userAgent.js"],"names":["popup","appendAnchor","createContainer","div","document","createElement","className","getAnchor","querySelector","ToolTipContent","state","left","top","adjustUI","_this$props","_this","props","y","target","_this$refContent","refContent","clientWidth","clientHeight","width","parseInt","height","rect","getBoundingClientRect","Math","max","bottom","anchor","setState","this","_this2","title","_this$state","react_default","a","ref","comp","style","PureComponent","ToolTip","handleMouseEnter","e","x","pageX","pageY","currentTarget","_this3","appendChild","ReactDOM","render","ToolTip_ToolTipContent","handleMouseLeave","isConnected","unmountComponentAtNode","removeChild","handleClick","_this3$props","onClick","children","onMouseEnter","onMouseLeave","React","cloneElement","TODO_CONFIG","LIMIT_WORDS","CATEGORY_LIST","key","value","STORE_CATEGORY_KEY","STORE_ACTIVE_CATEGORY_KEY","STORE_TODO_KEY","STORE_DONE_KEY","RENDER_PARSE_KEY","RENDER_ACTIVE_KEY","RENDER_STRING_KEY","RENDER_TAGS_KEY","RENDER_TIME_KEY","KEYCODE","BACKSPACE","TAB","CLEAR","ENTER","SHIFT","CONTROL","ALT","Pause","CAPE_LOCK","ESC","SPACEBAR","PAGEUP","PAGEDOWN","END","HOME","LEFT","UP","RIGHT","DOWN","SELECT","PRINT","EXECUTE","UNDEFINED","INSERT","DELETE","Help","ZERO","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","META_LEFT","META_RIGHT","NUMPAD_0","NUMPAD_1","NUMPAD_2","NUMPAD_3","NUMPAD_4","NUMPAD_5","NUMPAD_6","NUMPAD_7","NUMPAD_8","NUMPAD_9","NUMPAD_MULTIPLY","NUMPAD_ADD","NUMPAD_SUBTRACT","NUMPAD_DECIMAL","NUMPAD_DIVIDE","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","NUM_LOCK","SCROLL_LOCK","EQUAL","PERIOD","MINUS","COMMA","LEFT_PARENTHESIS","RIGHT_PARENTHESIS","store","window","localStorage","DELETE_KEY","Category","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onChange","onKeyDown","event","nativeEvent","keyCode","focusKey","onBlur","onFocus","index","_preValue","focusValue","focusIndex","deleteOption","options","splice","toConsumableArray","setItem","JSON","stringify","modifyCategory","isNew","onValueChange","addEmptyCategory","newOptions","randomKey","random","emptyCategory","push","length","newProps","_this$state2","activeKey","isFocus","cs","is-active","is-focus","onDoubleClick","autoFocus","onKeyPress","ToolTip_ToolTip","map","eachOption","_renderEachCategory","eventHelper","TYPE","TIP","stop","stopPropagation","preventDefault","dispatch","type","detail","arguments","undefined","bubbles","cancellable","createEvent","initCustomEvent","dispatchEvent","Tip","tip","active","_showTip","duration","_event$detail","timeout","tipsTimout","clearTimeout","setTimeout","addEventListener","concat","message","isAnti","findIndex","stringKey","some","eachMessage","showTip","STATUS","Status","isActive","status","CloseBtn","Checkbox","toggleChecked","checked","_this$props2","small","Time","time","diffTime","updateTime","getDiffTime","updateTimeKey","setInterval","Date","now","second","floor","minute","hour","day","data","disabled","onActive","timeData","diff","timeStamp","notify","timeoutKey","body","console","log","Notification","date","toLocaleString","Component","Tags","eachTag","onDblClick","Array","tags","HyperLink","url","realUrl","startsWith","errCb","require","shell","openExternal","open","goToUrl","link","direction","jumpTo","Emphasize","_this$props$data","Code","Delete","Text","content","PARSER_TEST","TOKEN_TYPE","TIME","TAG","TEXT","HYPERLINK","CODE","ITALIC","EM","EM_ITALIC","SPECIAL_SYMBOL","pauseSymbol","parser","parse","txt","closeTips","trim","offset","collection","startTextIndex","result","analyze","nextOffset","end","textResult","getText","summaryInfo","explain","getSummaryInfo","assign","symbol","indexOf","quoteParse","timeParse","codeParse","emParse","delLineParse","substring","begin","substr","expectLevel","realLevel","preData","endSmall","split","eachData","join","firIndex","secIndex","delay","clock","getTimeStamp","test","forEach","TIME_UNIT","MINUTE","HOURS","DAY","SECOND","TIME_UNIT_ARRAY","values","year","getFullYear","month","getMonth","getDate","getHours","minutes","getMinutes","getSeconds","unit","i","tempChar","Number","isNaN","getChineseDay","isInteger","diffDay","getDay","clockArray","getTime","_tempInfo","tempInfo","defineProperty","Set","eachBlock","add","UndoLi","_renderLi","listData","onInsertTag","collect","is-active animated tada","Time_Time","Tags_Tags","HyperLink_HyperLink","Emphasize_Emphasize","Code_Code","Delete_Delete","Text_Text","storeKey","onSelect","onDelete","draggable","isMatch","react_beautiful_dnd_esm","isDragDisabled","draggableId","provided","snapshot","innerRef","hidden","draggableProps","dragHandleProps","isDragging","draggableStyle","objectSpread","userSelect","background","Checkbox_Checkbox","CloseBtn_CloseBtn","getDragOverStyle","isDragOver","color","border","Input","handleKeydown","onEnter","refInput","handleEmptyInput","focus","handleInputChange","id","empty","parseData","renderData","droppableId","Fragment","UndoLi_UndoLi","placeholder","isDraggingOver","array","newArray","_tempData","tempData","defaultValue","err","copy","obj","UndoList","nextProps","list","filterTag","eachList","_this$props3","eachFilterTag","has","_this$props4","enterActive","leaveActive","transitionEnter","transitionLeave","react_transition_group","transitionName","enter","leave","transitionEnterTimeout","transitionLeaveTimeout","_renderUndoLi","ToolBtn","Tool","onClose","Btn","fileHelper","_fakeClick","ev","initMouseEvent","save","name","urlObject","URL","webkitURL","export_blob","Blob","save_link","createElementNS","href","createObjectURL","download","readJson","Promise","resolve","reject","reader","FileReader","files","readAsText","onload","res","readyState","json","ACCEPT_TYPE","Uploader","click","handleRead","then","THEME","DEFAULT","WHITE","THEME_KEY","keys","THEME_STORE_KEY","ColorTheme","activeTheme","init","themeValue","getItem","eachKey","currTheme","DROP_TYPE","TODO","DONE","INPUT","CATEGORY","BaseModal","show","Confirm","onOk","onCancel","BaseModal_BaseModal","Tag","FilterTags","activeTags","onTagActive","newActiveTags","FilterTags_Tag","ANIMATE","LIST_KEYS","INIT_CATEGORY_KEY","TIME_KEY","TEST_PARSER","ALL_DATA_READ_AND_RENDER","ALL_LIST_READ_AND_RENDER","getRealStoreKey","category","getAntiStoreKey","App","getTheme","_readData","categoryKey","openTool","_readList","timeEnd","newTags","_this$setState","firstRenderData","from","insertOneData","isEnter","_this$setState2","newData","_Tip$getTip","getTip","handleActive","antiStoreKey","antiData","_Tip$getTip2","antiTip","unshift","tag","realStoreKey","toggleOneData","antiKey","deleteOneData","enableAnimate","showConfirm","preDeleteTime","onConfirm","confirmVisible","confirmText","onConfirmCancel","brieflyCloseAnimate","dragData","insertValue","changeFilter","onDragStart","activeElement","blur","onDragEnd","source","destination","todoData","sourceIndex","sourceMsg","newList","destinationIndex","tempShake","newTempData","changeCategory","handleSave","saveObj","eachCategory","tempStoreKey","readObj","handleInputFocus","handleInputBlur","handleInputEnter","handleToggleTool","handleThemeChange","theme","_this$state3","todoEnterAnimate","doneData","isSmall","is-small","is-win","isWindows","tabIndex","open-tool","Tip_Tip","Status_Status","FilterTags_FilterTags","UndoList_UndoList","Category_Category","Input_Input","Confirm_Confirm","Tool_Tool","Tool_ToolBtn","Uploader_Uploader","ColorTheme_ColorTheme","src_App","getElementById","agent","navigator","userAgent","toLowerCase","lowIE11","isIEPure","isEdge","isIE","isFirefox","isSafari","isSougou","isIosChrome","isMobile","isMobileIos","isAndroid","isIos","isInWeChat","isMacOs","isLinux","isIphone","isWindowsFirefox","module","exports"],"mappings":"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","file":"static/js/main.5962986a.chunk.js","sourcesContent":["import React, {PureComponent} from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\nimport './index.scss';\n\nlet popup = null;\nlet appendAnchor = null;\n\nconst createContainer = () => {\n    const div = document.createElement('div');\n    div.className = 'tool-tip';\n    return div;\n};\n\nconst getAnchor = () => {\n    if (appendAnchor) {\n        return appendAnchor;\n    } else {\n        appendAnchor = document.querySelector('#root');\n        return appendAnchor;\n    }\n};\n\nconst DIRECTION = {\n    TOP: 'top',\n    Bottom: 'bottom',\n}\n\nclass ToolTipContent extends PureComponent {\n    static propTypes = {\n        x: PropTypes.number.isRequired,\n        y: PropTypes.number.isRequired,\n        title: PropTypes.string.isRequired,\n        target: PropTypes.object.isRequired,\n    };\n\n    state = {\n        left: 0,\n        top: 0,\n    };\n\n    componentDidMount() {\n        this.adjustUI();\n    }\n\n    adjustUI = () => {\n        const {y, target} = this.props;\n        const {clientWidth, clientHeight} = this.refContent;\n        const width = parseInt(clientWidth);\n        const height = parseInt(clientHeight);\n        const rect = target.getBoundingClientRect();\n        let margin = 10;\n        let left =  rect.left + rect.width / 2 - width / 2;\n        let top =  Math.max(y + margin, rect.bottom + margin);\n        let anchor = getAnchor();\n        if (left + width > anchor.clientWidth) {\n            left = (rect.left - rect.width / 2) - width;\n            top = rect.top - height / 2 + rect.height / 2;\n        }\n        if (top + height > anchor.clientHeight) {\n            top = rect.top - rect.height / 2 - height;\n        }\n        this.setState({\n            left, top\n        })\n    };\n\n    render() {\n        const {title} = this.props;\n        const {left, top} = this.state;\n        return (\n            <div className='content'\n                 ref={comp => this.refContent = comp}\n                 style={{left, top}}>{title}</div>\n        );\n    }\n}\n\nexport default class ToolTip extends PureComponent {\n    static propTypes = {\n        title: PropTypes.string.isRequired,\n        direction: PropTypes.oneOf(Object.values(DIRECTION)),\n        children: PropTypes.object,\n    };\n\n    componentWillUnmount() {\n        if (popup && popup.isConnected && appendAnchor) {\n            ReactDOM.unmountComponentAtNode(popup);\n            appendAnchor.removeChild(popup);\n        }\n    }\n\n    handleMouseEnter = (e) => {\n        const {pageX: x, pageY: y, currentTarget: target} = e;\n        const {title} = this.props;\n        if(!title || title === '') {\n            return false;\n        }\n        if (!popup) {\n            popup = createContainer();\n        }\n        if (!appendAnchor) {\n            appendAnchor = getAnchor();\n        }\n        appendAnchor.appendChild(popup);\n        ReactDOM.render(\n            <ToolTipContent\n                x={x} y={y}\n                title={title} target={target}/>, popup)\n    };\n\n    handleMouseLeave = (e) => {\n        if (popup && popup.isConnected && appendAnchor) {\n            ReactDOM.unmountComponentAtNode(popup);\n            appendAnchor.removeChild(popup);\n        }\n    };\n\n    handleClick = (e) => {\n        const {onClick, children} = this.props;\n        if (onClick) {\n            onClick(e);\n        } else if (typeof children === 'object' && children.props.onClick) {\n            children.props.onClick();\n        }\n    };\n\n    render() {\n        let {children} = this.props;\n        if (typeof children !== 'object') {\n            children = <span>{children}</span>\n        }\n        const props = {\n            onMouseEnter: this.handleMouseEnter,\n            onMouseLeave: this.handleMouseLeave,\n            onClick: this.handleClick,\n        };\n        return React.cloneElement(children, props);\n    }\n}","const TODO_CONFIG = {\n    LIMIT_WORDS: 100, // 允许输入的字\n    // 默认分类\n    CATEGORY_LIST : [\n        {key: 'default', value: '默认'},\n        // {key: 'work', value: '工作'},\n        // {key: 'home', value: '家庭'},\n        // {key: 'study', value: '学习'},\n        // {key: 'other', value: '其它'}\n    ],\n    // 存储层次的key\n    STORE_CATEGORY_KEY: '__category',\n    STORE_ACTIVE_CATEGORY_KEY: '__active_category',\n    STORE_TODO_KEY: '__todoList',\n    STORE_DONE_KEY: '__doneList',\n    // 显示层次的key\n    RENDER_PARSE_KEY: '__parseData',\n    RENDER_ACTIVE_KEY: '__active',\n    RENDER_STRING_KEY: '__string',\n    RENDER_TAGS_KEY: '__tags',\n    RENDER_TIME_KEY: '__time',\n};\n\nexport default TODO_CONFIG;","const KEYCODE = {\n    // UNDEFINED: 1,\n    // UNDEFINED: 2,\n    // UNDEFINED: 3,\n    // UNDEFINED: 4,\n    // UNDEFINED: 5,\n    // UNDEFINED: 6,\n    // UNDEFINED: 7,\n    BACKSPACE: 8,\n    TAB: 9,\n    // UNDEFINED: 10,\n    // UNDEFINED: 11,\n    CLEAR: 12,\n    ENTER: 13,\n    // UNDEFINED: 14,\n    // UNDEFINED: 15,\n    SHIFT: 16,\n    CONTROL: 17,\n    ALT: 18,\n    Pause: 19,\n    CAPE_LOCK: 20,\n    // UNDEFINED: 21,\n    // UNDEFINED: 22,\n    // UNDEFINED: 23,\n    // UNDEFINED: 24,\n    // UNDEFINED: 25,\n    // UNDEFINED: 26,\n    ESC: 27,\n    // UNDEFINED: 28,\n    // UNDEFINED: 29,\n    // UNDEFINED: 30,\n    // UNDEFINED: 31,\n    SPACEBAR: 32,\n    PAGEUP: 33,\n    PAGEDOWN: 34,\n    END: 35,\n    HOME: 36,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n    SELECT: 41,\n    PRINT: 42,\n    EXECUTE: 43,\n    UNDEFINED: 44,\n    INSERT: 45,\n    DELETE: 46,\n    Help: 47,\n    ZERO: 48,\n    ONE: 49,\n    TWO: 50,\n    THREE: 51,\n    FOUR: 52,\n    FIVE: 53,\n    SIX: 54,\n    SEVEN: 55,\n    EIGHT: 56,\n    NINE: 57,\n    // UNDEFINED: 58,\n    // UNDEFINED: 59,\n    // UNDEFINED: 60,\n    // UNDEFINED: 61,\n    // UNDEFINED: 62,\n    // UNDEFINED: 63,\n    // UNDEFINED: 64,\n    A: 65,\n    B: 66,\n    C: 67,\n    D: 68,\n    E: 69,\n    F: 70,\n    G: 71,\n    H: 72,\n    I: 73,\n    J: 74,\n    K: 75,\n    L: 76,\n    M: 77,\n    N: 78,\n    O: 79,\n    P: 80,\n    Q: 81,\n    R: 82,\n    S: 83,\n    T: 84,\n    U: 85,\n    V: 86,\n    W: 87,\n    X: 88,\n    Y: 89,\n    Z: 90,\n    META_LEFT: 91,\n    // UNDEFINED: 92,\n    META_RIGHT: 93,\n    // UNDEFINED: 94,\n    // UNDEFINED: 95,\n    NUMPAD_0: 96,\n    NUMPAD_1: 97,\n    NUMPAD_2: 98,\n    NUMPAD_3: 99,\n    NUMPAD_4: 100,\n    NUMPAD_5: 101,\n    NUMPAD_6: 102,\n    NUMPAD_7: 103,\n    NUMPAD_8: 104,\n    NUMPAD_9: 105,\n    NUMPAD_MULTIPLY: 106,\n    NUMPAD_ADD: 107,\n    // UNDEFINED: 108,\n    NUMPAD_SUBTRACT: 109,\n    NUMPAD_DECIMAL: 110,\n    NUMPAD_DIVIDE: 111,\n    F1: 112,\n    F2: 113,\n    F3: 114,\n    F4: 115,\n    F5: 116,\n    F6: 117,\n    F7: 118,\n    F8: 119,\n    F9: 120,\n    F10: 121,\n    F11: 122,\n    F12: 123,\n    F13: 124,\n    F14: 125,\n    F15: 126,\n    F16: 127,\n    F17: 128,\n    F18: 129,\n    F19: 130,\n    F20: 131,\n    F21: 132,\n    F22: 133,\n    F23: 134,\n    F24: 135,\n    NUM_LOCK: 144,\n    SCROLL_LOCK: 145,\n    EQUAL: 187,\n    PERIOD: 188,\n    MINUS: 189,\n    COMMA: 190,\n    LEFT_PARENTHESIS: 219,\n    RIGHT_PARENTHESIS: 221,\n};\n\nexport default KEYCODE;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport './index.scss';\nimport ToolTip from \"../../Common/ToolTip\";\nimport TODO_CONFIG from '../../../config';\nimport KEYCODE from \"../../../tool/keycode\";\n\nconst store = window.localStorage;\n\nconst {STORE_CATEGORY_KEY} = TODO_CONFIG;\nconst DELETE_KEY = ':d'; // 删除\n\nexport default class Category extends PureComponent {\n    static propTypes = {\n        activeKey: PropTypes.string.isRequired,\n        onChange: PropTypes.func.isRequired,\n        options: PropTypes.array.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            focusIndex: -1,\n            focusKey: null,\n            options: props.options,\n            focusValue: '',\n        }\n    }\n\n    componentWillReceiveProps(newProps) {\n        if (newProps.options !== this.props.options) {\n            this.setState({\n                options: newProps.options\n            });\n        }\n    }\n\n    onClick = (key) => {\n        this.props.onChange(key);\n    };\n\n    onKeyDown = (event) => {\n        if (event.nativeEvent.keyCode === KEYCODE.ENTER) {\n            const {focusKey} = this.state;\n            this.onBlur(focusKey);\n        }\n    };\n\n    onFocus = (key, value, index) => {\n        this._preValue = value;\n        this.setState({\n            focusKey: key,\n            focusValue: value,\n            focusIndex: index\n        })\n    };\n\n    deleteOption = (index) => {\n        const {options} = this.state;\n        options.splice(index, 1);\n        this.setState({\n            options: [...options]\n        });\n        store.setItem(STORE_CATEGORY_KEY, JSON.stringify(options));\n    };\n\n    onBlur = (key) => {\n        const {focusIndex, focusKey, focusValue, options} = this.state;\n        if (key === focusKey) {\n            this.setState({\n                focusIndex: -1,\n                focusValue: '',\n                focusKey: null,\n            })\n        }\n\n        // 没有输入内容\n        let modifyCategory = options[focusIndex];\n        if (!focusValue) {\n            if (modifyCategory && modifyCategory.isNew === true) {\n               this.deleteOption(focusIndex);\n            }\n            return false;\n        }\n\n        // 有内容\n        if (focusValue === DELETE_KEY) {\n            // 特殊的键值\n            this.deleteOption(focusIndex);\n            return false;\n        } else if (modifyCategory.isNew === true) {\n            modifyCategory = {\n                key: focusValue,\n                value: focusValue,\n            };\n        } else {\n            modifyCategory.value = focusValue;\n        }\n        options[focusIndex] = modifyCategory;\n        store.setItem(STORE_CATEGORY_KEY, JSON.stringify(options));\n        this.props.onChange(modifyCategory.key);\n    };\n\n    onValueChange = (event) => {\n        this.setState({\n            focusValue: event.target.value,\n        });\n    };\n\n    addEmptyCategory = ()  => {\n        const {options} = this.state;\n        let newOptions = [...options];\n        let randomKey = '' + Math.random();\n        let emptyCategory = {key: randomKey, value: '', isNew: true};\n        newOptions.push(emptyCategory);\n        this.setState({\n            focusIndex: options.length,\n            focusKey: randomKey,\n            options: newOptions\n        })\n    };\n\n    _renderEachCategory(key, value, index) {\n        const {focusKey, focusValue} = this.state;\n        const {activeKey} = this.props;\n        const isFocus = key === focusKey;\n        return (\n            <li key={key}\n                className={cs({'is-active': key === activeKey, 'is-focus': isFocus})}\n                onDoubleClick={() => {this.onFocus(key, value, index)}}\n                onClick={() => {this.onClick(key)}}>\n                {\n                    isFocus ?\n                        <input autoFocus\n                               className={'category-input'}\n                               value={focusValue}\n                               onBlur={() => {this.onBlur(key)}}\n                               onKeyPress={this.onKeyDown}\n                               onChange={this.onValueChange}/> :\n                        <ToolTip title={value}><span>{value}</span></ToolTip>\n                }\n                </li>\n        )\n    }\n\n    render() {\n        const {options} = this.state;\n        return (\n            <div className=\"todo-category\">\n                <ul>\n                    {\n                        options.map((eachOption, index) => {\n                            const {key, value} = eachOption;\n                            return this._renderEachCategory(key, value, index);\n                        })\n                    }\n                    <li className={'add-category'} onClick={this.addEmptyCategory}>\n                        <ToolTip title={'添加分类'}>\n                            <i className={`iconfont icon-plus`}/>\n                        </ToolTip>\n                    </li>\n                </ul>\n            </div>\n        )\n    }\n}","\nconst eventHelper = {\n    TYPE: {\n        TIP: 'tip',\n    },\n    stop(event) {\n        event.stopPropagation();\n        event.preventDefault();\n    },\n    dispatch(type, detail={}, bubbles = true, cancellable = true) {\n        const event = document.createEvent('CustomEvent');\n        event.initCustomEvent(type, bubbles, cancellable, detail);\n        window.dispatchEvent(event);\n    }\n};\n\nexport default eventHelper;","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\n\nimport eventHelper from '../../../tool/event';\nimport TODO_CONFIG from '../../../config';\n\nimport './index.scss';\n\nexport default class Tip extends PureComponent {\n\n    static propTypes = {\n        duration: PropTypes.number,\n    };\n\n    state = {\n        tip: '',\n        active: false,\n    };\n\n    componentWillMount() {\n        window.addEventListener(eventHelper.TYPE.TIP, this._showTip);\n    }\n\n    componentWillUnmount() {\n        window.addEventListener(eventHelper.TYPE.TIP, this._showTip);\n    }\n\n    static showTip = (tip, timeout) => {\n        eventHelper.dispatch(eventHelper.TYPE.TIP, {tip, timeout});\n    };\n\n    // 根据输入的内容获得对应的提示\n    static getTip(value, message, isAnti) {\n        const length = value.length;\n        let findIndex = -1;\n        let stringKey = TODO_CONFIG.RENDER_STRING_KEY;\n        message.some((eachMessage, index) => {\n            if (eachMessage[stringKey] === value) {\n                findIndex = index;\n                return true;\n            }\n            return false;\n        });\n        if (isAnti !== true) {\n            if (length === 0) {\n                return {tip: '哈哈哈，小哑巴！'};\n            }\n        }\n        if (findIndex !== -1) {\n            return {\n                index: findIndex,\n                tip: '你已经说过啦！真啰嗦~'\n            }\n        }\n        return {\n            tip: ''\n        }\n    }\n\n    _showTip = (event) => {\n        const {duration} = this.props;\n        const {tip, timeout} = event.detail;\n        if (this.tipsTimout) {\n            clearTimeout(this.tipsTimout);\n            this.tipsTimout = null;\n        }\n        this.setState({\n            tip, active: true\n        });\n        this.tipsTimout = setTimeout(() => {\n            this.setState({ active: false });\n        }, timeout || duration || 2000);\n    };\n\n    render() {\n        const {tip, active} = this.state;\n        if (!tip) {\n            return null;\n        }\n        return (\n            <div className={cs(\"tips\", { \"is-active\": active })}>{`${tip}`}</div>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport './index.scss';\n\nconst STATUS = {\n    GOOD: 'good',\n    OK: 'ok',\n    BUSY: 'busy',\n};\n\nexport default class Status extends PureComponent {\n    static propTypes = {\n        length: PropTypes.number.isRequired,\n        isActive: PropTypes.bool.isRequired,\n        onClick: PropTypes.func,\n        onMouseEnter: PropTypes.func,\n        onMouseLeave: PropTypes.func,\n    };\n\n    state = {\n        isActive: false\n    };\n\n    render() {\n        const {length, isActive, onClick, onMouseEnter, onMouseLeave} = this.props;\n        const status = length <= 2 ? STATUS.GOOD : length <= 5 ? STATUS.OK : STATUS.BUSY;\n        return (\n            <div className={cs('status', status, {'is-active': isActive})}\n                 onMouseEnter={onMouseEnter}\n                 onMouseLeave={onMouseLeave}\n                 onClick={onClick}/>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport './index.scss';\n\nexport default class CloseBtn extends PureComponent {\n    static propTypes = {\n        className: PropTypes.string,\n        onClick: PropTypes.func.isRequired,\n    };\n\n    onClick = (event) => {\n        this.props.onClick(event);\n    };\n\n    render() {\n       const {className} = this.props;\n        return (\n            <button className={cs('cross', 'close-btn', className)}\n                    onClick={this.onClick} />\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport './index.scss';\n\nexport default class Checkbox extends PureComponent {\n    static propTypes = {\n        checked: PropTypes.bool,\n        onChange: PropTypes.func,\n        small: PropTypes.bool,\n    };\n\n    toggleChecked = () => {\n        const {onChange, checked} = this.props;\n        onChange && onChange(!checked);\n    };\n    render() {\n        const {checked, small} = this.props;\n        return (\n            <div className={cs(\"checkbox\", {'checked': checked, 'small': small})} \n                onClick={this.toggleChecked}/>\n        )\n    }\n}","const OS_TYPE = {\n    WIN: 'win',\n    MAC: 'mac',\n    LINUX: 'linux',\n};\n\n// 通过userAgent得到当前系统\nfunction getOSType(){\n    if(navigator.userAgent.indexOf(\"Window\")>0){\n        return OS_TYPE.WIN;\n    }else if(navigator.userAgent.indexOf(\"Mac OS X\")>0) {\n        return OS_TYPE.MAC;\n    }else {\n        return OS_TYPE.LINUX;\n    }\n}\n\n// 通知\nconst notify = (title, body) => {\n    console.log('通知：', title, body);\n    new Notification(title, {\n        body,\n    });\n};\n\n// 跳转URL\nconst goToUrl = (url, errCb) => {\n    try {\n        const { shell } = window.require('electron');\n        shell.openExternal(url);\n    } catch (e) {\n        try {\n            window.open(url, '_blank');\n        } catch (e) {\n            errCb && errCb();\n        }\n    }\n};\n\nexport {OS_TYPE, getOSType, notify, goToUrl};","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\n\nimport ToolTip from '../../Common/ToolTip';\n\nimport TODO_CONFIG from '../../../config'\nimport {notify} from \"../../../tool/adaptor\";\n\nimport './index.scss';\n\nexport default class Time extends Component {\n    static propTypes = {\n        index: PropTypes.number,\n        data: PropTypes.object.isRequired,\n        disabled: PropTypes.bool,\n        onActive: PropTypes.func,\n        time: PropTypes.number,\n        isActive: PropTypes.bool,\n    };\n\n    state = {\n        time: 0,\n        diffTime: '',\n    };\n\n    componentDidMount() {\n        const {data, disabled, onActive, time, isActive} = this.props;\n        if (data && onActive && !disabled && !isActive) {\n            const {data: timeData} = data;\n            let now = Date.now();\n\n            // 传入的time优先级高于数据中的time\n            let timeStamp = time || timeData.timeStamp;\n            let diff = timeStamp - now;\n            if (diff <= 0) {\n                this.notify();\n            } else {\n                this.updateTime();\n                this.timeoutKey = setTimeout(() => {\n                    this.notify();\n                }, diff);\n            }\n\n            this.setState({\n                time: time || timeData.timeStamp\n            });\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.timeoutKey) {\n            clearTimeout(this.timeoutKey);\n        }\n    }\n\n    notify() {\n        const {index, data, onActive} = this.props;\n        notify('亲，你还有事件没做哦', data[TODO_CONFIG.RENDER_STRING_KEY]);\n        if (this.updateTimeKey) {\n            clearTimeout(this.updateTimeKey);\n        }\n        this.setState({\n            diffTime: ''\n        }, () => {\n            onActive(index);\n        });\n    }\n\n    updateTime = () => {\n        this.setState({\n            diffTime: this.getDiffTime()\n        });\n        this.updateTimeKey = setInterval(() => {\n            this.setState({\n                diffTime: this.getDiffTime()\n            });\n        }, 1000);\n    };\n\n    getDiffTime = () => {\n        const {time} = this.props;\n        let diffTime = time - Date.now();\n        let second = Math.floor(diffTime / 1000);\n        let minute = Math.floor(second / 60);\n        let hour = Math.floor(minute / 60);\n        let day = Math.floor(hour / 24);\n\n        if (day > 0) {\n            return `>${day}d`;\n        } else if (hour > 0) {\n            return `>${hour}h`;\n        } else if (minute > 0) {\n            return `>${minute}m`;\n        } else if (second > 0) {\n            return `${second}s`;\n        }\n\n\n    };\n\n    render() {\n        const {time, diffTime} = this.state;\n        let date = time === 0 ? new Date().toLocaleString() : new Date(time).toLocaleString();\n        return (\n            <span className='time'>\n                <ToolTip title={date}>\n                    <span>\n                        <i className='iconfont icon-time-circle'/>\n                        {diffTime && <span className=\"diff-time\">{diffTime}</span>}\n                    </span>\n                </ToolTip>\n            </span>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\nimport './index.scss';\n\nexport default class Tags extends PureComponent {\n    static propTypes = {\n        data: PropTypes.object.isRequired,\n        onDblClick: PropTypes.func,\n    };\n\n    onDoubleClick = (eachTag) => {\n        const {onDblClick} = this.props;\n        onDblClick(eachTag);\n    };\n\n    render() {\n        const {data} = this.props.data;\n        if(!data || !Array(data.tags) || data.tags.length === 0) {\n            return null;\n        }\n        return (\n            <span className='tags'>\n                {\n                    data.tags.map((eachTag) => {\n                        return <span className='tag' key={eachTag}\n                                     onDoubleClick={() => {this.onDoubleClick(eachTag)}}>{eachTag}</span>\n                    })\n                }\n            </span>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\n\nimport {goToUrl} from \"../../../tool/adaptor\";\n\nimport './index.scss';\nimport Tip from \"../../Exclusive/Tip\";\nimport ToolTip from \"../../Common/ToolTip\";\n\nexport default class HyperLink extends PureComponent {\n    static propTypes = {\n        data: PropTypes.object.isRequired,\n    };\n\n    jumpTo(url) {\n        let realUrl = url;\n        if (!url.startsWith('http')) {\n            realUrl = `https://${url}`;\n\n        }\n        goToUrl(realUrl, function () {\n            Tip.showTip(`\"${url}\" 不是合法Url`);\n        });\n    }\n\n    render() {\n        const {data} = this.props.data;\n        return (\n            <span className='hyperlink'>\n                <ToolTip title={data.link} direction=\"top\">\n                    <button onClick={() => {this.jumpTo(data.link)}}>{data.value}</button>\n                </ToolTip>\n            </span>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\nimport './index.scss';\n\nexport default class Emphasize extends PureComponent {\n    static propTypes = {\n        data: PropTypes.object.isRequired,\n    };\n\n    render() {\n        const {key, data} = this.props.data;\n        if (!data) {\n            return null;\n        }\n        return (\n            <span className={key}>{data.value}</span>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport './index.scss';\n\nexport default class Code extends PureComponent {\n    static propTypes = {\n        data: PropTypes.object.isRequired,\n    };\n\n    render() {\n        const {data} = this.props.data;\n        return (\n            <pre className='code'>{data.value}</pre>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\nimport './index.scss';\n\nexport default class Delete extends PureComponent {\n    static propTypes = {\n        data: PropTypes.object.isRequired,\n    };\n\n    render() {\n        const {data} = this.props.data;\n        return (\n            <span className='delete'>{data.value}</span>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\nimport './index.scss';\n\nexport default class Text extends PureComponent {\n    static propTypes = {\n        data: PropTypes.object.isRequired,\n    };\n\n    render() {\n        const {data} = this.props;\n        return (\n            <span className='text'>{data.content}</span>\n        )\n    }\n}","const PARSER_TEST = [\n\n    // // 时间\n    // '>2d 13:20 常规的时间',\n    // '>1s 推迟一秒',\n    // '> 15:30 没有推迟时间的时间输入',\n    // '> 错误的时间输入',\n    // '巴拉巴拉 >2d 24:30 时间解析不解析', // 应该解析\n    // '>2d 13 半个时间',\n    // '> 周六 中文的时间',\n    // '>周六 中文的时间，没有空格',\n    // '>14:20 应该支持时间没有空格'\n\n    // 时间-暂不支持\n    // '>ew 15:20 ', // ew会被解析成时间，15:20会被解析成文本\n    // '>ew 15:20 后面有字',\n\n    // // 分类\n    // ' [hahah, lalala] 正常的分类输入',\n    // '[ 错误的分类输入',\n    // '[只有分类]',\n    // '巴拉巴拉 [出现在中间, 的分类] 分类解析不解析', // 应该解析\n\n    // // 超链接\n    // '我跟你讲，[baidu](https://www.baidu.com)真的很好用',\n    // '假如[分类][链接](https://www.baidu.com)同时存在',\n\n    // // 代码\n    // '代码`console.log(\"aa\")`部分',\n    // '这种情况``应该解析为纯文本',\n\n    // // 强调\n    // '* italic *文本',\n    // '**em ** 强调',\n    // '*** italic&em ***强调和意大利',\n    // '**fa*', // 应该被解析成Italic，\n    // '***fa*', // 应该被解析成Italic\n    // '***fa**', // 应该被解析成em\n    // '****fa***', // 应该被解析成Italic & em\n\n    // // 删除线\n    // '~~aaa~~ 你好啊',\n\n    // // 完整的功能\n    // '>2d 13:20 [A, B] 所有的[格式](www.baidu.com)*能***否*****正***`常`~~展~~示？',\n\n    // // 其他错误的发现\n    // '0>2d 13:20 [A, B] 所有的[格式](www.baidu.com) *能* **否** ***正*** `常` ~~展~~ 示？0'\n];\n\nexport default PARSER_TEST;","import TODO_CONFIG from '../config';\nimport PARSER_TEST from './parser_test';\n\nconst {RENDER_STRING_KEY, RENDER_TAGS_KEY, RENDER_TIME_KEY} = TODO_CONFIG;\n\nconst TOKEN_TYPE = {\n    TIME: 'time',\n    TAG: 'tag',\n    TEXT: 'text',\n    // 以下为MD的格式\n    HYPERLINK: 'hyperlink',\n    CODE: 'code',\n    ITALIC: 'italic',\n    EM: 'em',\n    EM_ITALIC: 'em-italic',\n    DELETE: 'delete',\n};\n\nexport {TOKEN_TYPE};\n\nconst SPECIAL_SYMBOL = {\n    LEFT_QUOTE: '[',\n    RIGHT_QUOTE: ']',\n    TIME: '>',\n    COMMA: ',',\n    LEFT_SMALL_QUOTE: '(',\n    RIGHT_SMALL_QUOTE: ')',\n    GRAVE_ACCENT: '`',\n    STAR: '*',\n    WAVE: '~',\n};\nconst pauseSymbol = ['[', ']', '>', '`', '*', '~'];\n\n/**\n *  基本格式：\n *  自定义命令 + 正文内容\n *  eg: >2d 15:13 [tag1, tag2] your plan\n *\n *  自定义命令：\n *   - >2d 15:30 >日期 时间\n *      - >2d: 两天之后\n *      - >ed: 每天\n *      - >ew-3: 每周三\n *   - [xxx, xxx, xxx]:tag\n *\n *  正文内容支持局部的MD格式：\n *   - **XXX** // 强调\n *   - [xxx](http://www.baidu.com) // 链接\n *    - `xxx` // 代码块\n *   - ~~xxx~~ // 删除线\n *   - *xxx* // italic\n *   - **xxx** // 强调\n *   - ***xxx*** // 强调 & italic\n *\n * 每个单元的返回的通用结果：\n * result: {\n *     startIndex: xxx,\n *     endIndex: xxx,\n *     key: xxx, // 代表所属语义\n *     content: xxx,\n *     data: {\n *         value: ''\n *     }\n * }\n */\n\nconst parser = {\n    // 将用户输入解析为Todo识别的数据\n    parse(txt, closeTips) {\n        if (typeof txt !== 'string' || txt.length === 0) {\n            if (closeTips !== true) {\n                console.log('输入的数据有误，请确保输入源为非空字符串');\n            }\n            return false;\n        }\n        txt = txt.trim();\n        let length = txt.length;\n        let offset = 0;\n        let collection = [];\n        let startTextIndex = -1;\n        // 逐字解析\n        while (offset < length) {\n            const result = parser.analyze(txt, offset);\n            if (result) {\n                let nextOffset = result.end + 1;\n                if (nextOffset <= offset) {\n                    offset = offset + 1;\n                    if (closeTips !== true) {\n                        console.log(`解析错误: ${txt}, ${offset}`)\n                    }\n                } else {\n                    // 处理正常文字流\n                    if (startTextIndex !== -1) {\n                        let textResult = parser.getText(txt, startTextIndex, offset - 1);\n                        collection.push(textResult);\n                        startTextIndex = -1;\n                    }\n                    offset = nextOffset;\n                }\n                collection.push(result);\n            } else {\n                if (startTextIndex === -1) {\n                    startTextIndex = offset;\n                }\n                offset = offset + 1;\n            }\n        }\n        // 处理正常文字流\n        if (startTextIndex !== -1) {\n            let textResult = parser.getText(txt, startTextIndex);\n            collection.push(textResult);\n        }\n\n        // 默认完整的解析在第一个结构中\n        const summaryInfo = explain.getSummaryInfo(collection);\n        collection[0] = Object.assign(collection[0], summaryInfo);\n\n        if(closeTips !== true) {\n            // console.log(`执行解析数据: ${txt}`);\n            console.log(`txt: ${txt}, parseData:`, collection);\n        }\n        return collection;\n    },\n    analyze(txt, offset) {\n        let symbol = txt[offset];\n        let result = null;\n\n        let isFind = pauseSymbol.indexOf(symbol) !== -1;\n        if (isFind) {\n            switch (symbol) {\n                case SPECIAL_SYMBOL.LEFT_QUOTE: {\n                    result = parser.quoteParse(txt, offset);\n                    break;\n                }\n                case SPECIAL_SYMBOL.TIME: {\n                    result = parser.timeParse(txt, offset);\n                    break;\n                }\n                case SPECIAL_SYMBOL.GRAVE_ACCENT: {\n                    result = parser.codeParse(txt, offset);\n                    break;\n                }\n                case SPECIAL_SYMBOL.STAR: {\n                    result = parser.emParse(txt, offset);\n                    break;\n                }\n                case SPECIAL_SYMBOL.WAVE: {\n                    result = parser.delLineParse(txt, offset);\n                    break;\n                }\n                default: {\n                    // do nothing\n                }\n            }\n        }\n\n        return result;\n    },\n    getText(txt, offset, nextOffset) {\n        if (typeof nextOffset !== 'undefined') {\n            const content = txt.substring(offset, nextOffset + 1);\n            return {\n                begin: offset,\n                end: nextOffset,\n                key: TOKEN_TYPE.TEXT,\n                content,\n                data: {\n                    value: content\n                }\n            }\n        } else {\n            const content = txt.substr(offset);\n            return {\n                begin: offset,\n                end: txt.length - 1,\n                key: TOKEN_TYPE.TEXT,\n                content,\n                data: {\n                    value: content\n                }\n            }\n        }\n    },\n    // 删除线\n    delLineParse(txt, offset) {\n        txt = txt.substr(offset);\n        if (txt[1] !== SPECIAL_SYMBOL.WAVE) {\n            return null;\n        }\n        let end = txt.indexOf('~~', 3);\n        if (end === -1) {\n            return null;\n        }\n        return {\n            begin: offset,\n            end: end + offset + 1,\n            key: TOKEN_TYPE.DELETE,\n            content: txt.substring(0, end + 2),\n            data: {\n                value: txt.substring(2, end),\n            }\n        }\n    },\n    // 加强等级\n    emParse(txt, offset) {\n        txt = txt.substr(offset);\n        let end = 0;\n        let key = null;\n        let content = null;\n        let value = null;\n\n        // 期望加强等级\n        let expectLevel = 0;\n        if (txt[1] === SPECIAL_SYMBOL.STAR) {\n            if (txt[2] === SPECIAL_SYMBOL.STAR) {\n                expectLevel = 2;\n            } else {\n                expectLevel = 1;\n            }\n        }\n        // 实际加强等级\n        let realLevel = -1;\n\n        // 以下代码暂不循环了，罗列所有情况，这样直观一点\n        switch (expectLevel) {\n            case 0: {\n                end = txt.indexOf('*', 2);\n                if (end !== -1) {\n                    realLevel = 0;\n                }\n                break;\n            }\n            case 1: {\n                end = txt.indexOf('**', 3);\n                if (end === -1) {\n                    end = txt.indexOf('*', 3);\n                    if (end !== -1) {\n                        realLevel = 0;\n                    }\n                } else {\n                    realLevel = 1;\n                }\n                break;\n            }\n            case 2: {\n                end = txt.indexOf('***', 4);\n                if (end === -1) {\n                    end = txt.indexOf('**', 4);\n                    if (end === -1) {\n                        end = txt.indexOf('*', 4);\n                        if (end !== -1) {\n                            realLevel = 0;\n                        }\n                    } else {\n                        realLevel = 1;\n                    }\n                } else {\n                    realLevel = 2;\n                }\n                break;\n            }\n            default: // do nothing\n        }\n\n        if (realLevel === -1) {\n            return null;\n        }\n        // 最后得出结果\n        switch (realLevel) {\n            case 0: {\n                key = TOKEN_TYPE.ITALIC;\n                value = txt.substring(1, end);\n                content = txt.substring(0, end + 1);\n                break;\n            }\n            case 1: {\n                key = TOKEN_TYPE.EM;\n                value = txt.substring(2, end);\n                end = end + 1;\n                content = txt.substring(0, end + 1);\n                break;\n            }\n            case 2: {\n                key = TOKEN_TYPE.EM_ITALIC;\n                value = txt.substring(3, end);\n                end = end + 2;\n                content = txt.substring(0, end + 1);\n                break;\n            }\n            default: // do nothing\n        }\n        return {\n            begin: offset,\n            end: end + offset,\n            key,\n            content,\n            data: {value}\n        }\n    },\n    // 代码块\n    codeParse(txt, offset) {\n        txt = txt.substr(offset);\n        let end = 0;\n\n        end = txt.indexOf(SPECIAL_SYMBOL.GRAVE_ACCENT, 2);\n\n        if (end === -1) {\n            return null;\n        } else {\n            return {\n                begin: offset,\n                end: end + offset,\n                key: TOKEN_TYPE.CODE,\n                content: txt.substring(0, end + 1),\n                data: {\n                    value: txt.substring(1, end)\n                }\n            }\n        }\n    },\n    quoteParse(txt, offset) {\n        txt = txt.substr(offset);\n        let end = 0;\n        let content = null;\n        let data = null;\n        let key = TOKEN_TYPE.TAG;\n\n        end = txt.indexOf(SPECIAL_SYMBOL.RIGHT_QUOTE);\n\n        if (end === -1) {\n            return null\n        }\n\n        content = txt.substring(0, end + 1);\n        let preData = txt.substring(1, end);\n        // 假如是超链接\n        if (txt[end + 1] === SPECIAL_SYMBOL.LEFT_SMALL_QUOTE) {\n            let endSmall = txt.indexOf(SPECIAL_SYMBOL.RIGHT_SMALL_QUOTE);\n            if (endSmall !== -1) {\n                content = txt.substring(0, endSmall + 1);\n                key = TOKEN_TYPE.HYPERLINK;\n                data = {\n                    value: txt.substring(1, end),\n                    link: txt.substring(end + 2, endSmall),\n                };\n                end = endSmall;\n            }\n            return {\n                begin: offset,\n                end: end + offset,\n                key,\n                content,\n                data\n            }\n        } else {\n            // 是普通分类\n            let tags = preData.split(SPECIAL_SYMBOL.COMMA);\n            tags = tags.map((eachData) => {\n                return eachData.trim();\n            });\n            return {\n                begin: offset,\n                end: end + offset,\n                key,\n                content,\n                data: {\n                    tags,\n                    value: tags.join('、')\n                }\n            }\n        }\n    },\n    // 时间\n    timeParse(txt, offset) {\n        txt = txt.substr(offset);\n        let firIndex = txt.indexOf(' ');\n        let secIndex = txt.indexOf(' ', firIndex + 1);\n        let delay = txt.substring(1, firIndex); // 推迟的时间\n\n        if (secIndex !== -1) {\n            let clock = txt.substring(firIndex + 1, secIndex); // 选中的时间\n            let timeStamp = explain.getTimeStamp(delay, clock);\n            return {\n                begin: offset,\n                end: secIndex + offset,\n                content: txt.substring(0, secIndex),\n                key: TOKEN_TYPE.TIME,\n                data: {\n                    delay,\n                    clock,\n                    timeStamp,\n                    value: clock\n                }\n            }\n        } else {\n            // 处理只有>，后面无命令的情况\n            if (txt[1] === ' ') {\n                return;\n            }\n            let timeStamp = explain.getTimeStamp(delay);\n            return {\n                begin: offset,\n                end: firIndex + offset,\n                content: txt.substring(0, firIndex),\n                key: TOKEN_TYPE.TIME,\n                data: {\n                    delay,\n                    timeStamp,\n                }\n            }\n        }\n\n    },\n    test() {\n        PARSER_TEST.forEach(function (eachData) {\n            parser.parse(eachData);\n        });\n    }\n};\n\nconst TIME_UNIT = {\n    MINUTE: 'm',\n    HOURS: 'h',\n    DAY: 'd',\n    SECOND: 's',\n};\n\nconst TIME_UNIT_ARRAY = Object.values(TIME_UNIT);\n\nconst explain = {\n    getTimeStamp(delay, clock) {\n        const now = new Date();\n        const year = now.getFullYear();\n        const month = now.getMonth();\n        let date = now.getDate();\n        let hour = now.getHours();\n        let minutes = now.getMinutes();\n        let second = now.getSeconds();\n\n        // 冗余处理，处理 >14:30这种情况\n        if (delay.indexOf(':') !== -1) {\n            clock = delay;\n            delay = null;\n        }\n\n        // 分析delay\n        if (delay) {\n            let unit = null;\n            for(let i = 0; i<delay.length; i++) {\n                let tempChar = delay[i];\n                if(Number.isNaN(parseInt(tempChar))) {\n                    unit = tempChar;\n                    i = delay.length;\n                }\n            }\n            let value = null;\n            if (TIME_UNIT_ARRAY.indexOf(unit) === -1) {\n                let day = explain.getChineseDay(delay);\n                if (Number.isInteger(day)) {\n                    let currDay = now.getDay();\n                    let diffDay = day - currDay;\n                    diffDay = diffDay < 0 ? diffDay + 7 : diffDay;\n                    date += diffDay;\n                } else {\n                    unit = TIME_UNIT.DAY;\n                    value = delay;\n                }\n            } else {\n                value = parseInt(delay.substring(0, delay.length - 1));\n            }\n            switch (unit) {\n                case TIME_UNIT.SECOND: {\n                    second += value;\n                    break;\n                }\n                case TIME_UNIT.MINUTE: {\n                    minutes += value;\n                    break;\n                }\n                case TIME_UNIT.HOURS: {\n                    hour += value;\n                    break;\n                }\n                case TIME_UNIT.DAY:\n                default:\n                    date += value;\n                    break;\n            }\n        }\n        // 分析时间\n        if (clock) {\n            let clockArray = clock.split(':');\n            if (clockArray.length === 1) {\n                if (Number.isInteger(clockArray[0])) {\n                    hour = parseInt(clockArray[0]);\n                } else {\n                    let day = explain.getChineseDay(clockArray[0]);\n                    if (Number.isInteger(day)) {\n                        let currDay = now.getDay();\n                        let diffDay = day - currDay;\n                        diffDay = diffDay < 0 ? diffDay + 7 : diffDay;\n                        date += diffDay;\n                    }\n                }\n            } else {\n                hour = parseInt(clockArray[0]);\n                minutes = parseInt(clockArray[1]);\n            }\n        }\n\n        let newDate = new Date(year, month, date, hour, minutes, second);\n        let time = newDate.getTime();\n        if (Number.isNaN(time)) {\n        }\n        return time;\n    },\n    getChineseDay(clock) {\n        switch(clock) {\n            case '星期一':\n            case '周一': return 1;\n            case '星期二':\n            case '周二': return 2;\n            case '星期三':\n            case '周三': return 3;\n            case '星期四':\n            case '周四': return 4;\n            case '星期五':\n            case '周五': return 5;\n            case '星期六':\n            case '周六': return 6;\n            case '星期天':\n            case '周日': return 7;\n            default:\n                return undefined;\n        }\n    },\n    getSummaryInfo(collection) {\n        let tempInfo = {\n            [RENDER_STRING_KEY]: '',\n            [RENDER_TAGS_KEY]: new Set(),\n            [RENDER_TIME_KEY]: '',\n        };\n        collection.forEach(function (eachBlock) {\n            let eachData = eachBlock.data;\n            if (eachBlock.key === TOKEN_TYPE.TIME) {\n                tempInfo[RENDER_TIME_KEY] = eachBlock.data.timeStamp;\n            } else if(eachBlock.key === TOKEN_TYPE.TAG) {\n                tempInfo[RENDER_TAGS_KEY].add(eachBlock.data.value);\n            } else {\n                tempInfo[RENDER_STRING_KEY] += eachData.value;\n            }\n        });\n        return tempInfo;\n    },\n};\n\nparser.test();\n\nexport default parser;","import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport {Draggable} from \"react-beautiful-dnd\";\nimport Checkbox from \"../../Common/Checkbox\";\nimport CloseBtn from \"../../Common/CloseBtn\";\nimport Time from \"../../Render/Time\";\nimport Tags from \"../../Render/Tags\";\nimport HyperLink from \"../../Render/HyperLink\";\nimport Emphasize from \"../../Render/Emphasize\";\nimport Code from \"../../Render/Code\";\nimport Delete from \"../../Render/Delete\";\nimport Text from \"../../Render/Text\";\n\nimport TODO_CONFIG from \"../../../config\";\nimport {TOKEN_TYPE} from \"../../../tool/parser\";\n\nimport './index.scss';\n\nconst {RENDER_PARSE_KEY, RENDER_ACTIVE_KEY, RENDER_TIME_KEY} = TODO_CONFIG;\n\n// 拖拽的样式\nconst getItemStyle = (isDragging, draggableStyle) => ({\n    userSelect: 'none',\n    background: isDragging && 'rgba(255, 255, 255, 0.2)',\n    ...draggableStyle,\n});\n\nexport default class UndoLi extends PureComponent {\n    static propTypes = {\n        index: PropTypes.number,\n        listData: PropTypes.object.isRequired,\n        small: PropTypes.bool,\n        checked: PropTypes.bool,\n        storeKey: PropTypes.string,\n        className: PropTypes.string,\n        isMatch: PropTypes.bool,\n        draggable: PropTypes.bool,\n        onSelect: PropTypes.func,\n        onDelete: PropTypes.func,\n        onActive: PropTypes.func,\n        onInsertTag: PropTypes.func,\n    };\n\n    _renderLi = () => {\n        const {listData, index, checked, onActive, onInsertTag} = this.props;\n        let collect = listData[RENDER_PARSE_KEY];\n        let isActive = listData[RENDER_ACTIVE_KEY];\n        let time = listData[RENDER_TIME_KEY];\n        return (\n            <div className={cs('message', {'is-active animated tada': isActive && !checked})}>\n                {\n                    collect.map((eachData) => {\n                        let key = eachData.begin + eachData.content;\n                        switch (eachData.key) {\n                            case TOKEN_TYPE.TIME:\n                                return <Time key={key} index={index} isActive={isActive}\n                                             data={eachData} disabled={checked} time={time}\n                                             onActive={onActive}/>;\n                            case TOKEN_TYPE.TAG:\n                                return <Tags key={key} data={eachData} onDblClick={onInsertTag}/>;\n                            case TOKEN_TYPE.HYPERLINK:\n                                return <HyperLink key={key} data={eachData}/>;\n                            case TOKEN_TYPE.ITALIC:\n                            case TOKEN_TYPE.EM:\n                            case TOKEN_TYPE.EM_ITALIC:\n                                return <Emphasize key={key} data={eachData}/>;\n                            case TOKEN_TYPE.CODE:\n                                return <Code key={key} data={eachData}/>;\n                            case TOKEN_TYPE.DELETE:\n                                return <Delete key={key} data={eachData}/>;\n                            case TOKEN_TYPE.TEXT:\n                            default:\n                                return <Text key={key} data={eachData}/>;\n                        }\n                    })\n                }\n            </div>\n        )\n    };\n\n    render() {\n        const {\n            index, listData, small, checked, storeKey, className,\n            onSelect, onDelete, draggable, isMatch\n        } = this.props;\n        const isActive = listData[RENDER_ACTIVE_KEY] === true ? 1 : 0;\n        if (draggable) {\n            return (\n                <Draggable\n                    key={listData.value + isActive}\n                    index={index}\n                    isDragDisabled={!draggable}\n                    draggableId={listData.value + index}>\n                    {(provided, snapshot) => (\n                        <li ref={provided.innerRef}\n                            className={cs(\"li\", className, {\"checked\": checked, \"hidden\": isMatch === false})}\n                            {...provided.draggableProps}\n                            {...provided.dragHandleProps}\n                            style={getItemStyle(\n                                snapshot.isDragging,\n                                provided.draggableProps.style,\n                            )}>\n                            {\n                                onSelect &&\n                                <Checkbox\n                                    small={small}\n                                    checked={checked}\n                                    onChange={(value) => {\n                                        onSelect(index, value, storeKey)\n                                    }}/>\n                            }\n                            {this._renderLi()}\n                            {\n                                onDelete &&\n                                <CloseBtn onClick={(event) => {\n                                    onDelete(index, storeKey, event, true)\n                                }}/>\n                            }\n\n                        </li>\n                    )}\n                </Draggable>\n            )\n        } else {\n            return (\n                <li className={cs(\"li undo-li\", className, {\"checked\": checked,  \"hidden\": isMatch === false})}>\n                    {\n                        onSelect &&\n                        <Checkbox\n                            small={small}\n                            checked={checked}\n                            onChange={(value) => {\n                                onSelect(index, value, storeKey)\n                            }}/>\n                    }\n                    {this._renderLi()}\n                    {\n                        onDelete &&\n                        <CloseBtn onClick={(event) => {\n                            onDelete(index, storeKey, event)\n                        }}/>\n                    }\n\n                </li>\n            )\n        }\n\n    }\n}","import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {Droppable} from \"react-beautiful-dnd\";\nimport cs from 'classnames';\n\nimport CloseBtn from '../../Common/CloseBtn/index';\nimport Tip from '../Tip/index';\nimport UndoLi from \"../UndoList/UndoLi\";\n\nimport parser from \"../../../tool/parser\";\nimport TODO_CONFIG from \"../../../config/index\";\nimport KEYCODE from '../../../tool/keycode';\n\nimport './index.scss';\n\nconst {RENDER_PARSE_KEY} = TODO_CONFIG;\n\nfunction getDragOverStyle(isDragOver) {\n    if (isDragOver) {\n        return {\n            color: 'transparent',\n            background: 'rgba(0, 0, 0, .5)',\n            border: '1px solid rgba(255, 255, 255, .8)',\n        }\n    }\n}\n\nexport default class Input extends PureComponent {\n    static propTypes = {\n        id: PropTypes.string,\n        value: PropTypes.string,\n        className: PropTypes.string,\n        focus: PropTypes.bool,\n        max: PropTypes.number,\n        onFocus: PropTypes.func,\n        onBlur: PropTypes.func,\n        onChange: PropTypes.func,\n        onEnter: PropTypes.func,\n    };\n\n    componentWillReceiveProps(newProps) {\n        if (newProps.value !== this.state.value) {\n            this.setState({\n                value: newProps.value\n            }, () => {\n                this.refInput.value = newProps.value;\n                this.refInput.focus();\n            });\n        }\n    }\n\n    state = {\n        value: '',\n    };\n\n    handleKeydown = (event) => {\n        const {onEnter} = this.props;\n        if (onEnter && event.nativeEvent.keyCode === KEYCODE.ENTER) {\n            const value = this.refInput.value;\n            this.setState({value});\n            if (onEnter(value)) {\n                this.handleEmptyInput();\n            }\n        }\n    };\n\n    handleEmptyInput = () => {\n        this.props.onChange('');\n        this.setState({value: ''});\n        this.refInput.value = '';\n        this.refInput.focus();\n    };\n\n    // 输入框内容发生改变\n    handleInputChange = (event) => {\n        let value = event.target.value;\n        const {max, onChange} = this.props;\n        if (max && value && value.length > max) {\n            Tip.showTip('无法加载更多');\n            value = value.substr(0, max);\n            this.refInput.value = value;\n        }\n        this.setState({value});\n        onChange && onChange(value);\n    };\n\n    render() {\n        const {id, className, focus, onFocus, onBlur} = this.props;\n        const {value} = this.state;\n        const empty = value.length === 0;\n        const parseData = parser.parse(value, true);\n        const renderData = {\n            [RENDER_PARSE_KEY]: parseData\n        };\n\n        // focus && !empty && parseData &&\n\n        return (\n            <Droppable droppableId={id}>\n                {\n                    (provided, snapshot) => (\n                        <React.Fragment>\n                            {\n                                (parseData && parseData.length >= 2) &&\n                                <UndoLi className={cs(\"input-li\", {'focus': focus})} listData={renderData}/>\n                            }\n                            <div ref={provided.innerRef}\n                                 className={cs(\"input-wrapper\", className,\n                                     {'empty': empty, 'focus': focus})}>\n                                {provided.placeholder}\n                                <input\n                                    ref={comp => {\n                                        this.refInput = comp\n                                    }}\n                                    style={getDragOverStyle(snapshot.isDraggingOver)}\n                                    placeholder={' Enter 确认'}\n                                    onFocus={onFocus}\n                                    onBlur={onBlur}\n                                    onChange={this.handleInputChange}\n                                    onKeyPress={this.handleKeydown}/>\n                                {\n                                    !empty &&\n                                    <CloseBtn onClick={this.handleEmptyInput}/>\n                                }\n                            </div>\n                        </React.Fragment>\n                    )\n                }\n            </Droppable>\n\n        )\n    }\n}","// import fastJson from 'fast-json-stringify';\nimport TODO_CONFIG from '../config';\n\nconst {RENDER_ACTIVE_KEY, RENDER_STRING_KEY, RENDER_TIME_KEY} = TODO_CONFIG;\n\n// 该方法只针对列表数据，用以过滤不必要的数据\nconst stringify = function (array) {\n    if(array.length === 0) {\n        return '[]'\n    } else {\n        let newArray = [];\n        array.forEach((eachData) => {\n            let tempData = {\n                value: eachData.value,\n                [RENDER_ACTIVE_KEY]: eachData[RENDER_ACTIVE_KEY],\n                [RENDER_STRING_KEY]: eachData[RENDER_STRING_KEY],\n            };\n            if (eachData[RENDER_TIME_KEY]) {\n                tempData[RENDER_TIME_KEY] = eachData[RENDER_TIME_KEY]\n            }\n            newArray.push(tempData);\n        });\n        return JSON.stringify(newArray) ;\n    }\n};\n\n// 一个包含错误处理的parse\nconst parse = function(value, defaultValue) {\n    let data = null;\n    try {\n        data = JSON.parse(value);\n    } catch (err) {\n\n    }\n    if (!data) {\n        data = defaultValue;\n    }\n    return data;\n};\n\nconst copy = function (obj) {\n    return JSON.parse(JSON.stringify(obj));\n};\n\nexport {stringify, parse, copy};","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {Droppable} from \"react-beautiful-dnd\";\nimport {CSSTransitionGroup} from 'react-transition-group'\nimport cs from 'classnames';\n\nimport UndoLi from './UndoLi';\n\nimport {stringify} from \"../../../tool/json\";\nimport TODO_CONFIG from '../../../config';\n\nimport './index.scss';\n\nconst {RENDER_TAGS_KEY} = TODO_CONFIG;\n\nexport default class UndoList extends Component {\n    static propTypes = {\n        id: PropTypes.string,\n        className: PropTypes.string,\n        storeKey: PropTypes.string.isRequired,\n        list: PropTypes.array,\n        checked: PropTypes.bool,\n        filterTag: PropTypes.array,\n        small: PropTypes.bool,\n        placeholder: PropTypes.string,\n        enterActive: PropTypes.string,\n        leaveActive: PropTypes.string,\n        transitionEnter: PropTypes.bool,\n        transitionLeave: PropTypes.bool,\n        draggable: PropTypes.bool,\n        onSelect: PropTypes.func,\n        onDelete: PropTypes.func,\n        onInsertTag: PropTypes.func,\n\n    };\n\n    shouldComponentUpdate(nextProps) {\n        const {list, filterTag} = this.props;\n        if (list.length !== nextProps.list.length) {\n            return true;\n        }\n        let preList = stringify(list);\n        let newList = stringify(nextProps.list);\n        if (preList !== newList) {\n            return true;\n        }\n        if (filterTag !== nextProps.filterTag) {\n            return true;\n        }\n        return false;\n    }\n\n    onActive = (index) => {\n        const {storeKey, onActive} = this.props;\n        onActive(index, storeKey);\n    };\n\n    _renderUndoLi(eachList, index, filterTag) {\n        const {small, checked, storeKey, draggable, onSelect, onDelete, onInsertTag} = this.props;\n        const tags = eachList[RENDER_TAGS_KEY];\n        let isMatch = true;\n        if (filterTag.length > 0) {\n            isMatch = filterTag.some(function(eachFilterTag) {\n                return tags.has(eachFilterTag);\n            });\n        }\n        return (\n            <UndoLi\n                listData={eachList}\n                key={eachList.value}\n                index={index}\n                small={small}\n                checked={checked}\n                isMatch={isMatch}\n                storeKey={storeKey}\n                draggable={draggable}\n                onSelect={onSelect}\n                onDelete={onDelete}\n                onActive={this.onActive}\n                onInsertTag={onInsertTag}/>\n        )\n    }\n\n    render() {\n        let {\n            id, placeholder, className, list,\n            enterActive, leaveActive, transitionEnter, transitionLeave,\n            filterTag,\n        } = this.props;\n\n        return (\n            <Droppable droppableId={id}>\n                {\n                    (provided, snapshot) => (\n                        <ul\n                            ref={provided.innerRef}\n                            className={cs('list', className)}>\n                            {\n                                (!list || list.length === 0) && placeholder &&\n                                <div key=\"place-older\"\n                                     className=\"list-holder\">{placeholder}</div>\n                            }\n                            <CSSTransitionGroup\n                                transitionName={{\n                                    enter: \"animated\",\n                                    enterActive: enterActive || \"bounceIn\",\n                                    leave: \"animated\",\n                                    leaveActive: leaveActive || \"fadeOutRight\"\n                                }}\n                                transitionEnter={transitionEnter && true}\n                                transitionLeave={transitionLeave && true}\n                                transitionEnterTimeout={300}\n                                transitionLeaveTimeout={200}>\n                                {\n                                    list.map((eachList, index) => {\n                                        return this._renderUndoLi(eachList, index, filterTag);\n                                    })\n                                }\n                            </CSSTransitionGroup>\n                            {provided.placeholder}\n                        </ul>\n                    )\n                }\n            </Droppable>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport './index.scss';\nimport CloseBtn from \"../../Common/CloseBtn\";\n\nclass ToolBtn extends PureComponent {\n    static propTypes = {\n        type: PropTypes.string,\n        onClick: PropTypes.func,\n        onClose: PropTypes.func,\n        onMouseEnter: PropTypes.func,\n        onMouseLeave: PropTypes.func,\n    };\n\n    render() {\n        const {type, onClick, onMouseEnter, onMouseLeave} = this.props;\n        return (\n            <div className=\"tool-btn\"\n                 onMouseEnter={onMouseEnter}\n                 onMouseLeave={onMouseLeave}\n                 onClick={onClick}>\n                <i className={`iconfont icon-${type}`}/>\n            </div>\n        )\n    }\n}\n\nexport {ToolBtn};\n\nexport default class Tool extends PureComponent {\n\n    static Btn = ToolBtn;\n\n    static propTypes = {\n        isActive: PropTypes.bool.isRequired,\n        children: PropTypes.array,\n    };\n\n    render() {\n        const {isActive, children, onClose} = this.props;\n        return (\n            <div className={cs('tool', {'is-active': isActive})}>\n                { isActive && children }\n                <CloseBtn onClick={onClose}/>\n            </div>\n        )\n    }\n}","const fileHelper = {\n    _fakeClick(obj) {\n        let ev = document.createEvent('MouseEvents');\n        ev.initMouseEvent(\n            'click', true, false, window, 0, 0, 0, 0, 0\n            , false, false, false, false, 0, null\n        );\n        obj.dispatchEvent(ev);\n    },\n    save(name, data) {\n        const urlObject = window.URL || window.webkitURL || window;\n        const export_blob = new Blob([data]);\n        const save_link = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');\n        save_link.href = urlObject.createObjectURL(export_blob);\n        save_link.download = name;\n        fileHelper._fakeClick(save_link);\n    },\n    readJson(event) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            const files = event.target.files;\n            reader.readAsText(files[0]);\n            reader.onload = function(res) {\n                const target = res.target;\n                if (target.readyState === 2) {\n                    try {\n                        let json = JSON.parse(target.result);\n                        resolve(json);\n                    } catch(err) {\n                        reject(err);\n                    }\n                  \n                }\n            }\n        });\n    }\n};\n\nexport default fileHelper;","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\nimport './index.scss';\nimport fileHelper from \"../../../tool/file\";\n\nconst ACCEPT_TYPE = {\n    JSON: 'json',\n    TEXT: 'text',\n};\n\nexport {ACCEPT_TYPE};\n\nexport default class Uploader extends PureComponent {\n    static propTypes = {\n        type: PropTypes.oneOf([ACCEPT_TYPE.JSON, ACCEPT_TYPE.TEXT]),\n        onChange: PropTypes.func.isRequired,\n        children: PropTypes.object,\n        onMouseEnter: PropTypes.func,\n        onMouseLeave: PropTypes.func,\n    };\n\n    handleClick = () => {\n        this.refInput.click();\n    }\n\n    handleRead = (event) => {\n        const {type, onChange} = this.props;\n        switch(type) {\n            case ACCEPT_TYPE.JSON: {\n                fileHelper.readJson(event).then(function (data) {\n                   onChange(data);\n                });\n                break;\n            }\n            case ACCEPT_TYPE.TEXT: {\n                break;\n            }\n            default: {\n\n            }\n        }\n    }\n\n    render() {\n        const {children, onMouseEnter, onMouseLeave} = this.props;\n        return (\n            <div className='upload-wrapper'\n                 onMouseEnter={onMouseEnter}\n                 onMouseLeave={onMouseLeave}\n                 onClick={this.handleClick}>\n                <input ref={comp => this.refInput = comp}\n                       className=\"read\" type=\"file\" onChange={this.handleRead}/>\n                { children }\n            </div>\n        )\n    }\n}","import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport './index.scss';\nimport ToolTip from \"../../Common/ToolTip\";\n\nexport const THEME = {\n    DEFAULT: {\n        title: '黑夜',\n        className: 'black'\n    },\n    WHITE: {\n        title: '白昼',\n        className: 'white'\n    }\n};\n\nconst THEME_KEY = Object.keys(THEME);\n\nconst store = window.localStorage;\nconst THEME_STORE_KEY = '__theme';\n\nexport default class ColorTheme extends PureComponent {\n    static propTypes = {\n        onChange: PropTypes.func.isRequired,\n    };\n\n    state = {\n        activeTheme: '',\n    };\n\n    static getTheme() {\n        let themeValue = store.getItem(THEME_STORE_KEY) || 'DEFAULT';\n        return THEME[themeValue].className;\n    }\n\n    componentDidMount() {\n        let themeValue = store.getItem(THEME_STORE_KEY) || 'DEFAULT';\n        this.onChange(themeValue, true);\n    }\n\n    onChange = (activeTheme, init) => {\n        if (!init) {\n            store.setItem(THEME_STORE_KEY, activeTheme);\n        }\n        this.setState({\n            activeTheme\n        });\n        this.props.onChange(THEME[activeTheme].className);\n    };\n\n    render() {\n        const {activeTheme} = this.state;\n        return (\n            <div className=\"color-theme\">\n                <span className=\"color-title\">主题色：</span>\n                {\n                    THEME_KEY.map((eachKey) => {\n                        let currTheme = THEME[eachKey];\n                        return (\n                            <ToolTip key={eachKey} title={currTheme.title}>\n                                <span className={cs('color-block', currTheme.className,\n                                    {'is-active': activeTheme === eachKey})}\n                                      onClick={() => {\n                                          this.onChange(eachKey)\n                                      }}/>\n                            </ToolTip>\n                        )\n                    })\n                }\n            </div>\n        )\n    }\n}","export const DROP_TYPE = {\n    TODO: 'TODO',\n    DONE: 'DONE',\n    INPUT: 'INPUT',\n    CATEGORY: 'CATEGORY',\n};","import React, {PureComponent} from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\nimport './index.scss';\n\nlet popup = null;\nlet appendAnchor = null;\n\nconst createContainer = () => {\n    const div = document.createElement('div');\n    div.className = 'modal';\n    return div;\n};\n\nconst getAnchor = () => {\n    if (appendAnchor) {\n        return appendAnchor;\n    } else {\n        appendAnchor = document.querySelector('#todo-app');\n        return appendAnchor;\n    }\n};\n\nexport default class BaseModal extends PureComponent {\n    static propTypes = {\n        show: PropTypes.bool.isRequired,\n        children: PropTypes.object,\n    };\n\n    componentWillUpdate(newProps) {\n        const {show, children} = this.props;\n        if (show !== newProps.show) {\n            if (newProps.show === false) {\n                if (popup && appendAnchor) {\n                    ReactDOM.unmountComponentAtNode(popup);\n                    appendAnchor.removeChild(popup);\n                }\n            } else {\n                if (!children) {\n                    // do nothing\n                    return false;\n                }\n                if (!popup) {\n                    popup = createContainer();\n                }\n                if (!appendAnchor) {\n                    appendAnchor = getAnchor();\n                }\n                appendAnchor.appendChild(popup);\n\n                // 移除属性show\n                let props = Object.assign({}, newProps);\n                props.show = null;\n\n                ReactDOM.render(\n                    <div className=\"mask\">\n                        {React.cloneElement(children, props)}\n                    </div>, popup\n                );\n            }\n            return true;\n        }\n        return false;\n    }\n\n    render() {\n        return null;\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\nimport './index.scss';\nimport BaseModal from \"../BaseModal\";\nimport CloseBtn from \"../../CloseBtn\";\n\nexport default class Confirm extends PureComponent {\n    static propTypes = {\n        show: PropTypes.bool.isRequired,\n        title: PropTypes.string.isRequired,\n        onOk: PropTypes.func,\n        onCancel: PropTypes.func,\n    };\n\n    render() {\n        const {show, title, onOk, onCancel} = this.props;\n        return (\n            <BaseModal show={show}>\n                <div className=\"confirm animated bounceIn\">\n                    <CloseBtn onClick={() => {onCancel && onCancel()}}/>\n                    <div className=\"title\">{title}</div>\n                    <div className=\"btn-group\">\n                        <button onClick={onCancel}>取消</button>\n                        <button className=\"yes\" onClick={onOk}>确定</button>\n                    </div>\n                </div>\n            </BaseModal>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport './index.scss';\n\nclass Tag extends PureComponent {\n    static propTypes = {\n        title: PropTypes.string.isRequired,\n        onClick: PropTypes.func.isRequired,\n    };\n\n    state = {\n        active: false\n    };\n\n    handleClick = () => {\n        const {active} = this.state;\n        const {title, onClick} = this.props;\n        this.setState({\n            active: !active,\n        });\n        onClick(title);\n    };\n\n    render() {\n        const {title} = this.props;\n        const {active} = this.state;\n        return(\n            <span className={cs('filter-tag', {'is-active': active})}\n                  onClick={this.handleClick}>{title}</span>\n        )\n    }\n}\n\nexport default class FilterTags extends PureComponent {\n    static propTypes = {\n        tags: PropTypes.array.isRequired,\n        onChange: PropTypes.func.isRequired,\n    };\n\n    state = {\n        activeTags: [],\n    };\n\n    // 激活一个页签\n    onTagActive = (title) => {\n        const {onChange} = this.props;\n        const {activeTags} = this.state;\n        const newActiveTags = [...activeTags];\n        let index = activeTags.indexOf(title);\n        if (index !== -1) {\n            newActiveTags.splice(index, 1);\n        } else {\n            newActiveTags.push(title);\n        }\n        this.setState({\n            activeTags: newActiveTags\n        });\n        onChange(newActiveTags);\n    };\n\n    render() {\n        const {tags} = this.props;\n        return (\n            <div className=\"filter-tag-list\">\n                {\n                    tags.map((eachTag) => {\n                        return <Tag key={eachTag} title={eachTag} onClick={this.onTagActive}/>\n                    })\n                }\n            </div>\n        )\n    }\n}","import React, {PureComponent} from 'react';\nimport cs from 'classnames';\nimport {DragDropContext} from \"react-beautiful-dnd\";\nimport Category from './Component/Exclusive/Category';\nimport Tip from './Component/Exclusive/Tip';\nimport Status from './Component/Exclusive/Status';\nimport Input from './Component/Exclusive/Input';\nimport UndoList from './Component/Exclusive/UndoList';\nimport Tool, {ToolBtn} from './Component/Exclusive/Tool';\nimport Uploader, {ACCEPT_TYPE} from \"./Component/Common/Uploader\";\nimport ColorTheme from './Component/Exclusive/ColorTheme';\nimport ToolTip from './Component/Common/ToolTip';\n\nimport TODO_CONFIG from './config';\nimport fileHelper from './tool/file';\nimport {stringify, parse, copy} from './tool/json';\nimport {isWindows} from './tool/userAgent';\n\nimport './app.scss';\nimport './icon/icons.scss';\nimport parser from \"./tool/parser\";\nimport {DROP_TYPE} from \"./tool/drag\";\nimport Confirm from \"./Component/Common/Modal/Confirm\";\nimport FilterTags from \"./Component/Exclusive/FilterTags\";\n\n\nconst store = window.localStorage;\n\nconst ANIMATE = {\n    INSERT_TODO: 'bounceIn',\n    INSERT_DONE: 'slideInDown',\n};\n\n// 从配置中读取信息\nconst {\n    CATEGORY_LIST, LIMIT_WORDS, STORE_TODO_KEY,\n    STORE_DONE_KEY, STORE_CATEGORY_KEY, STORE_ACTIVE_CATEGORY_KEY,\n    RENDER_ACTIVE_KEY, RENDER_PARSE_KEY, RENDER_STRING_KEY,\n    RENDER_TAGS_KEY, RENDER_TIME_KEY\n} = TODO_CONFIG;\nconst LIST_KEYS = [STORE_TODO_KEY, STORE_DONE_KEY];\nconst INIT_CATEGORY_KEY = CATEGORY_LIST[0].key;\n\n// 性能打桩\nconst TIME_KEY = {\n    TEST_PARSER: '【解析数据】解析输入文本耗时：',\n    ALL_DATA_READ_AND_RENDER: '【所有数据】读取 & 渲染耗时：',\n    ALL_LIST_READ_AND_RENDER: '【列表数据】读取 & 渲染耗时：',\n};\n\nconst getRealStoreKey = function (category, key) {\n    return `__${category}_${key}`;\n};\n\nconst getAntiStoreKey = function (storeKey) {\n    return storeKey === STORE_TODO_KEY ? STORE_DONE_KEY : STORE_TODO_KEY;\n};\n\nclass App extends PureComponent {\n    state = {\n        [STORE_TODO_KEY]: [], // 未完成的消息\n        [STORE_DONE_KEY]: [], // 已经完成的消息\n        focus: false, // input是否focus\n        category: CATEGORY_LIST, // 总分类\n        categoryKey: INIT_CATEGORY_KEY, // 当前激活的分类\n        openTool: false, // 打开工具栏\n        enableAnimate: false, // 禁用动画\n        todoEnterAnimate: '',\n        theme: ColorTheme.getTheme(), // THEME.DEFAULT,\n        insertValue: '',\n        confirmVisible: false,\n        confirmText: '',\n        tags: [], // 当前分类拥有的Tag\n        filterTag: [], // 需要过滤的tag\n    };\n\n    componentDidMount() {\n        this._readData().then(this.brieflyCloseAnimate);\n    }\n\n    __testRender() {\n        // console.time(TIME_KEY.TEST_PARSER);\n        // const str = '>2d 13:20 [A, B] 所有的[格式](www.baidu.com) *能* **否** ***正*** `常` ~~展~~ 示？';\n        // const testTimes = 100;\n        // for(let i=0; i< testTimes; i++) {\n        //     parser.parse(str);\n        // }\n        // for(let i = 0; i< testTimes; i++) {\n        //     setTimeout(() => {\n        //         return this.insertOneData({\n        //             value: i + str + i\n        //         }, STORE_DONE_KEY, false);\n        //     }, 100 * i);\n        // }\n        // console.timeEnd(TIME_KEY.TEST_PARSER);\n    }\n\n    // 从持久化中读取数据\n    _readData = () => {\n        return new Promise((resolve) => {\n            console.time(TIME_KEY.ALL_DATA_READ_AND_RENDER);\n            const category = parse(store.getItem(STORE_CATEGORY_KEY), CATEGORY_LIST);\n            store.setItem(STORE_CATEGORY_KEY, JSON.stringify(category));\n            const categoryKey = store.getItem(STORE_ACTIVE_CATEGORY_KEY) || category[0].key;\n            console.time(TIME_KEY.ALL_LIST_READ_AND_RENDER);\n            this.setState({\n                category,\n                categoryKey,\n                openTool: false,\n            }, () => {\n                this._readList().then(() => {\n                    resolve();\n                    console.timeEnd(TIME_KEY.ALL_DATA_READ_AND_RENDER);\n                    console.timeEnd(TIME_KEY.ALL_LIST_READ_AND_RENDER);\n                });\n            });\n        });\n    };\n\n    // 读取每列数据\n    _readList = () => {\n        return new Promise((resolve) => {\n            const {categoryKey} = this.state;\n            const newTags = new Set();\n            LIST_KEYS.forEach((eachKey) => {\n                const storeKey = getRealStoreKey(categoryKey, eachKey);\n                const tempData = parse(store.getItem(storeKey), []);\n                tempData.forEach(function (eachData) {\n                    if (!eachData[RENDER_PARSE_KEY]) {\n                        eachData[RENDER_PARSE_KEY] = parser.parse(eachData.value);\n                        // 一般通用数据都放在第一条数据上\n                        const firstRenderData = eachData[RENDER_PARSE_KEY][0];\n                        eachData[RENDER_STRING_KEY] = firstRenderData[RENDER_STRING_KEY];\n                        eachData[RENDER_TAGS_KEY] = firstRenderData[RENDER_TAGS_KEY];\n                        eachData[RENDER_TIME_KEY] = eachData[RENDER_TIME_KEY] || firstRenderData[RENDER_TIME_KEY];\n                        eachData[RENDER_TAGS_KEY].forEach(function (eachTag) {\n                            newTags.add(eachTag);\n                        });\n                    }\n                });\n                this.setState({\n                    [eachKey]: tempData,\n                    tags: Array.from(newTags),\n                });\n            });\n            resolve();\n        });\n    };\n\n    /**\n     * 对列表进行相关的数据操作 Start\n     */\n    insertOneData = (data, storeKey, isEnter) => {\n        if (!data || data.value === '') {\n            Tip.showTip('输入不可为空');\n            return false;\n        }\n\n        const {categoryKey, tags} = this.state;\n        const preData = this.state[storeKey];\n\n        // 解析该行命令\n        const newData = [...preData];\n\n        if (!data[RENDER_PARSE_KEY]) {\n            data[RENDER_PARSE_KEY] = parser.parse(data.value);\n        }\n        // 假如之前是激活状态，则不再激活该list（作用域切换）\n        if (data[RENDER_ACTIVE_KEY] === true) {\n            data[RENDER_ACTIVE_KEY] = false;\n        }\n        if (!data[RENDER_STRING_KEY]) {\n            const firstRenderData = data[RENDER_PARSE_KEY][0];\n            data[RENDER_STRING_KEY] = firstRenderData[RENDER_STRING_KEY];\n            data[RENDER_TAGS_KEY] = firstRenderData[RENDER_TAGS_KEY];\n            data[RENDER_TIME_KEY] = firstRenderData[RENDER_TIME_KEY];\n        }\n\n        // 校验数据是否合法\n        const {tip, index} = Tip.getTip(data[RENDER_STRING_KEY], newData, !isEnter);\n        if (tip) {\n            Tip.showTip(tip);\n            if (index >= 0) {\n                this.handleActive(index, storeKey, true);\n            }\n            return false;\n        }\n        if (isEnter === true) {\n            const antiStoreKey = getAntiStoreKey(storeKey);\n            const antiData = this.state[antiStoreKey];\n            const {tip: antiTip, index} = Tip.getTip(data[RENDER_STRING_KEY], antiData, true);\n            if (antiTip) {\n                Tip.showTip(antiTip);\n                if (index >= 0) {\n                    this.handleActive(index, antiStoreKey, true);\n                }\n                return false;\n            }\n        }\n\n        // 更改数据\n        newData.unshift(data);\n        // 添加新的Tags\n        const newTags = new Set(tags);\n        data[RENDER_TAGS_KEY].forEach(function (tag) {\n            newTags.add(tag);\n        });\n        const realStoreKey = getRealStoreKey(categoryKey, storeKey);\n        store.setItem(realStoreKey, stringify(newData));\n        this.setState({\n            [storeKey]: newData,\n            tags: Array.from(newTags)\n        });\n        return true;\n    };\n\n    // 完成或未完成列表\n    toggleOneData = (index, value, storeKey) => {\n        const preData = this.state[storeKey];\n        const antiKey = getAntiStoreKey(storeKey);\n        const deleteOneData = preData[index];\n        if (this.insertOneData(deleteOneData, antiKey)) {\n            this.deleteOneData(index, storeKey, true);\n        }\n    };\n\n    // 删除列表\n    deleteOneData = (index, storeKey, enableAnimate, showConfirm) => {\n        // 是否弹出删除按钮\n        this.preDeleteTime = this.preDeleteTime || 0;\n        let minIntervalTime = 1000 * 60 * 5; // 五分钟\n        if (showConfirm === true && Date.now() - this.preDeleteTime > minIntervalTime) {\n            this.onConfirm = () => {\n                this.setState({\n                    confirmVisible: false,\n                    confirmText: '',\n                });\n                this.deleteOneData(index, storeKey, enableAnimate);\n                this.preDeleteTime = Date.now();\n            };\n            this.onConfirmCancel = () => {\n                this.setState({\n                    confirmVisible: false,\n                    confirmText: '',\n                });\n                this.preDeleteTime = Date.now();\n            };\n            this.setState({\n                confirmVisible: true,\n                confirmText: '是否确认删除',\n            });\n            return false;\n        }\n        const {categoryKey} = this.state;\n        const preData = this.state[storeKey];\n        const newData = [...preData];\n        newData.splice(index, 1);\n        const realStoreKey = getRealStoreKey(categoryKey, storeKey);\n        store.setItem(realStoreKey, stringify(newData));\n        if (enableAnimate !== true) {\n            this.brieflyCloseAnimate();\n        }\n        this.setState({\n            [storeKey]: newData\n        });\n    };\n\n    dragData = (listData, storeKey) => {\n        const {categoryKey} = this.state;\n        this.setState({\n            [storeKey]: [...listData]\n        });\n        const realStoreKey = getRealStoreKey(categoryKey, storeKey);\n        store.setItem(realStoreKey, stringify(listData));\n    };\n\n    onInsertTag = (tag) => {\n        const {insertValue} = this.state;\n        // 不重复才添加\n        if (insertValue.indexOf(`[${tag}]`) === -1) {\n            this.setState({\n                insertValue: `[${tag}]${insertValue}`\n            });\n        } else {\n            Tip.showTip('不可添加重复的标签');\n        }\n    };\n\n    changeFilter = (filterTag) => {\n        this.setState({\n            filterTag\n        })\n    };\n\n    onDragStart = () => {\n        document.activeElement && document.activeElement.blur();\n    }\n\n    onDragEnd = (result) => {\n        const {source, destination} = result;\n        if (!destination) {\n            return;\n        }\n        const todoData = this.state[STORE_TODO_KEY];\n        const sourceIndex = source.index;\n        const sourceMsg = todoData[sourceIndex];\n\n        switch (destination.droppableId) {\n            case DROP_TYPE.TODO: {\n                const newList = [...todoData];\n                const destinationIndex = destination.index;\n                // 根据拖拽结果调整数据顺序\n                if (sourceIndex < destinationIndex) {\n                    for (let i = sourceIndex; i < destinationIndex; i++) {\n                        newList[i] = newList[i + 1];\n                    }\n                } else if (sourceIndex > destinationIndex) {\n                    for (let i = sourceIndex; i > destinationIndex; i--) {\n                        newList[i] = newList[i - 1];\n                    }\n                }\n                newList[destinationIndex] = sourceMsg;\n                this.dragData(newList, STORE_TODO_KEY);\n                break;\n            }\n            case DROP_TYPE.INPUT: {\n                this.setState({\n                   insertValue: sourceMsg.value\n                }, () => {\n                    this.deleteOneData(sourceIndex, STORE_TODO_KEY, false);\n                });\n                break;\n            }\n            default: break;\n        }\n    };\n    /**\n     * 对列表进行相关的数据操作 END\n     */\n\n    /**\n     * 前端交互事件 START\n     */\n        // 摇动一个数据以引起别人注意\n    handleActive = (index, storeKey, tempShake) => {\n        const preData = this.state[storeKey];\n        const newData = copy(preData);\n        let tempData = newData[index];\n        tempData[RENDER_ACTIVE_KEY] = true;\n        this.setState({\n            [storeKey]: [...newData]\n        });\n        if (tempShake === true) {\n            setTimeout(() => {\n                this.brieflyCloseAnimate();\n                let newTempData = copy(tempData);\n                newTempData[RENDER_ACTIVE_KEY] = false;\n                newData[index] = newTempData;\n                this.setState({\n                    [storeKey]: [...newData]\n                })\n            }, 1000);\n        }\n    };\n    // 短暂关闭动画\n    brieflyCloseAnimate = () => {\n        this.setState({\n            enableAnimate: false,\n        });\n        setTimeout(() => {\n            this.setState({\n                enableAnimate: true,\n            })\n        }, 100);\n    };\n    changeCategory = (key) => {\n        this.setState({\n            categoryKey: key,\n        }, () => {\n            store.setItem(STORE_ACTIVE_CATEGORY_KEY, key);\n            this._readList();\n            this.brieflyCloseAnimate();\n        });\n    };\n    handleSave = () => {\n        const {category} = this.state;\n        let saveObj = {};\n        saveObj.category = category;\n        saveObj.data = {};\n        category.forEach((eachCategory) => {\n            const {key} = eachCategory;\n            LIST_KEYS.forEach(function (eachKey) {\n                const tempStoreKey = getRealStoreKey(key, eachKey);\n                saveObj.data[tempStoreKey] = parse(store.getItem(tempStoreKey), []);\n            });\n        });\n        fileHelper.save('config.json', JSON.stringify(saveObj));\n    };\n    handleRead = (readObj) => {\n        const category = readObj.category;\n        const data = readObj.data;\n        store.setItem(STORE_CATEGORY_KEY, JSON.stringify(category));\n        let keys = Object.keys(data);\n        keys.forEach(function (eachKey) {\n            store.setItem(eachKey, stringify(data[eachKey]));\n        });\n        this._readData().then(function () {\n            Tip.showTip('读取成功')\n        });\n    };\n    handleInputFocus = () => {\n        this.setState({focus: true});\n    };\n    handleInputBlur = () => {\n        this.setState({focus: false});\n    };\n    handleInputEnter = (value) => {\n        return this.insertOneData({\n            value\n        }, STORE_TODO_KEY, true);\n    };\n    handleInputChange = (value) => {\n        this.setState({\n            insertValue: value\n        })\n    };\n    handleToggleTool = () => {\n        const {openTool} = this.state;\n        this.setState({\n            openTool: !openTool\n        })\n    };\n    handleThemeChange = (theme) => {\n        this.setState({\n            theme\n        });\n    };\n\n    /**\n     * 前端交互事件 END\n     */\n\n    render() {\n        const {\n            focus, category, categoryKey, openTool,\n            enableAnimate, todoEnterAnimate, theme,\n            insertValue, confirmVisible, confirmText,\n            tags, filterTag,\n        } = this.state;\n        const todoData = this.state[STORE_TODO_KEY];\n        const doneData = this.state[STORE_DONE_KEY];\n        const isSmall = document.querySelector('#root').clientWidth <= 310;\n        return (\n            <DragDropContext onDragEnd={this.onDragEnd} onDragStart={this.onDragStart}>\n                <div id=\"todo-app\" className={cs(`theme-${theme}`,\n                    {'is-small': isSmall}, {'is-win': isWindows})} tabIndex=\"0\">\n                    <div className={cs('app-wrapper', {'open-tool': openTool})}>\n                        {/* 其它提示 */}\n                        <Tip/>\n                        {/* 当前状态栏 */}\n                        <Status length={todoData.length} onClick={this.handleToggleTool}\n                                isActive={openTool}/>\n                        {/* 列表 */}\n                        <div className={cs('list-container', {'focus': focus})}>\n                            <FilterTags tags={tags} onChange={this.changeFilter}/>\n                            <UndoList\n                                id={DROP_TYPE.TODO}\n                                storeKey={STORE_TODO_KEY}\n                                className={cs('undo-list')}\n                                list={todoData}\n                                checked={false}\n                                filterTag={filterTag}\n                                placeholder={\"不来一发吗?\"}\n                                enterActive={todoEnterAnimate}\n                                transitionEnter={enableAnimate}\n                                transitionLeave={false}\n                                draggable={true}\n                                onSelect={this.toggleOneData}\n                                onDelete={this.deleteOneData}\n                                onActive={this.handleActive}\n                                onInsertTag={this.onInsertTag}/>\n                            {\n                                doneData.length > 0 &&\n                                <div className=\"done-split\"/>\n                            }\n                            <UndoList\n                                id={DROP_TYPE.DONE}\n                                storeKey={STORE_DONE_KEY}\n                                className={cs('done-list')}\n                                checked small\n                                filterTag={filterTag}\n                                list={doneData}\n                                enterActive={ANIMATE.INSERT_DONE}\n                                transitionEnter={false}\n                                transitionLeave={false}\n                                onSelect={this.toggleOneData}\n                                onDelete={this.deleteOneData}\n                                onInsertTag={this.onInsertTag}/>\n                        </div>\n                        {/* 分类 */}\n                        <Category activeKey={categoryKey}\n                                  options={category}\n                                  onChange={this.changeCategory}/>\n                        {/* 输入框 */}\n                        <Input\n                            id={DROP_TYPE.INPUT}\n                            value={insertValue}\n                            focus={!!focus}\n                            max={LIMIT_WORDS}\n                            onFocus={this.handleInputFocus}\n                            onBlur={this.handleInputBlur}\n                            onEnter={this.handleInputEnter}\n                            onChange={this.handleInputChange}\n                        />\n                    </div>\n                    {/*确认信息*/}\n                    <Confirm show={confirmVisible}\n                             title={confirmText}\n                             onOk={this.onConfirm}\n                             onCancel={this.onConfirmCancel}/>\n                    {/* 工具栏 */}\n                    <Tool isActive={openTool} onClose={this.handleToggleTool}>\n                        <ToolTip title=\"导出配置\">\n                            <ToolBtn type='download' onClick={this.handleSave}/>\n                        </ToolTip>\n                        <ToolTip title=\"导入配置\">\n                            <Uploader type={ACCEPT_TYPE.JSON} onChange={this.handleRead}>\n                                <ToolBtn type='upload'/>\n                            </Uploader>\n                        </ToolTip>\n                        <ColorTheme onChange={this.handleThemeChange}/>\n                    </Tool>\n                </div>\n            </DragDropContext>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.scss';\nimport 'animate.css';\nimport './theme/index.scss';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","const agent = window.navigator.userAgent.toLowerCase();\n\nconst lowIE11 = agent.indexOf(\"compatible\") > -1 && agent.indexOf(\"msie\") > -1;\nconst isIEPure = lowIE11 || (agent.indexOf('trident') > -1 && agent.indexOf(\"rv:11.0\") > -1);\nconst isEdge = agent.indexOf(\"edge\") > -1 && !lowIE11;\nconst isIE = isIEPure || isEdge;\nconst isFirefox = agent.indexOf('firefox') !== -1;\nconst isSafari = agent.indexOf('chrome') === -1 && agent.indexOf('safari') !== -1;\nconst isSougou = agent.indexOf('se 2.x') > -1;\nconst isIosChrome = agent.indexOf('crios') !== -1;\nconst isMobile = /Android|webOS|iPhone|iPod|BlackBerry|iPad/i.test(agent);\nconst isMobileIos = /iPhone|iPod/i.test(agent);\nconst isAndroid = /Android/i.test(agent);\nconst isIos = /iPhone|iPod|iPad/i.test(agent);\nconst isInWeChat = /MicroMessenger/i.test(agent);\nconst isWindows = agent.indexOf('window') !== -1;\nconst isMacOs = agent.indexOf('mac') !== -1;\nconst isLinux = agent.indexOf('linux') !== -1;\nconst isIphone = agent.indexOf('iphone') !== -1;\nconst isWindowsFirefox = isWindows && isFirefox;\n\nmodule.exports = {\n    agent,\n    isIE,\n    isIEPure,\n    isEdge,\n    isFirefox,\n    isSougou,\n    isMobile,\n    isMobileIos,\n    isAndroid,\n    isWindows,\n    isMacOs,\n    isLinux,\n    isIphone,\n    isWindowsFirefox,\n    isInWeChat,\n    isIos,\n    isSafari,\n    isIosChrome,\n};\n"],"sourceRoot":""}