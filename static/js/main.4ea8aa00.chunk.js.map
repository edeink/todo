{"version":3,"sources":["Component/Common/ToolTip/index.js","config/index.js","tool/keycode.js","Component/Exclusive/Category/index.js","tool/event.js","Component/Exclusive/Tip/index.js","Component/Exclusive/Status/index.js","Component/Common/CloseBtn/index.js","Component/Common/Checkbox/index.js","tool/adaptor.js","Component/Render/Time/index.js","Component/Render/Tags/index.js","Component/Render/HyperLink/index.js","Component/Render/Emphasize/index.js","Component/Render/Code/index.js","Component/Render/Delete/index.js","Component/Render/Text/index.js","tool/parser_test.js","tool/parser.js","Component/Exclusive/UndoList/UndoLi.js","Component/Exclusive/Input/index.js","tool/json.js","Component/Exclusive/UndoList/index.js","Component/Exclusive/Tool/index.js","tool/file.js","Component/Common/Uploader/index.js","Component/Exclusive/ColorTheme/index.js","tool/drag.js","App.js","index.js"],"names":["popup","appendAnchor","createContainer","div","document","createElement","className","getAnchor","querySelector","ToolTipContent","state","left","top","adjustUI","_this$props","_this","props","y","target","_this$refContent","refContent","clientWidth","clientHeight","width","parseInt","height","rect","getBoundingClientRect","Math","max","bottom","anchor","setState","this","_this2","title","_this$state","react_default","a","ref","comp","style","PureComponent","ToolTip","handleMouseEnter","e","x","pageX","pageY","currentTarget","_this3","appendChild","ReactDOM","render","ToolTip_ToolTipContent","handleMouseLeave","isConnected","unmountComponentAtNode","removeChild","handleClick","_this3$props","onClick","children","onMouseEnter","onMouseLeave","React","cloneElement","TODO_CONFIG","LIMIT_WORDS","CATEGORY_LIST","key","value","STORE_CATEGORY_KEY","STORE_ACTIVE_CATEGORY_KEY","STORE_TODO_KEY","STORE_DONE_KEY","RENDER_PARSE_KEY","RENDER_ACTIVE_KEY","RENDER_STRING_KEY","KEYCODE","BACKSPACE","TAB","CLEAR","ENTER","SHIFT","CONTROL","ALT","Pause","CAPE_LOCK","ESC","SPACEBAR","PAGEUP","PAGEDOWN","END","HOME","LEFT","UP","RIGHT","DOWN","SELECT","PRINT","EXECUTE","UNDEFINED","INSERT","DELETE","Help","ZERO","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","META_LEFT","META_RIGHT","NUMPAD_0","NUMPAD_1","NUMPAD_2","NUMPAD_3","NUMPAD_4","NUMPAD_5","NUMPAD_6","NUMPAD_7","NUMPAD_8","NUMPAD_9","NUMPAD_MULTIPLY","NUMPAD_ADD","NUMPAD_SUBTRACT","NUMPAD_DECIMAL","NUMPAD_DIVIDE","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","NUM_LOCK","SCROLL_LOCK","EQUAL","PERIOD","MINUS","COMMA","LEFT_PARENTHESIS","RIGHT_PARENTHESIS","store","window","localStorage","DELETE_KEY","Category","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onChange","onKeyDown","event","nativeEvent","keyCode","focusKey","onBlur","onFocus","index","_preValue","focusValue","focusIndex","deleteOption","options","splice","toConsumableArray","setItem","JSON","stringify","modifyCategory","isNew","onValueChange","addEmptyCategory","newOptions","randomKey","random","emptyCategory","push","length","newProps","_this$state2","activeKey","isFocus","cs","is-active","is-focus","onDoubleClick","autoFocus","onKeyPress","ToolTip_ToolTip","map","eachOption","_renderEachCategory","eventHelper","TYPE","TIP","stop","stopPropagation","preventDefault","dispatch","type","detail","arguments","undefined","bubbles","cancellable","createEvent","initCustomEvent","dispatchEvent","Tip","tip","active","_showTip","duration","_event$detail","timeout","tipsTimout","clearTimeout","setTimeout","addEventListener","concat","message","isAnti","findIndex","stringKey","some","eachMessage","showTip","STATUS","Status","isActive","status","CloseBtn","Checkbox","toggleChecked","checked","_this$props2","small","Time","data","disabled","onActive","timeData","now","Date","diff","timeStamp","notify","timeoutKey","body","console","log","Notification","date","toLocaleString","nextTime","formatTime","Component","Tags","eachTag","onDblClick","Array","tags","HyperLink","url","realUrl","startsWith","errCb","require","shell","openExternal","open","goToUrl","link","direction","jumpTo","Emphasize","_this$props$data","Code","Delete","Text","content","PARSER_TEST","TOKEN_TYPE","TIME","TAG","TEXT","HYPERLINK","CODE","ITALIC","EM","EM_ITALIC","SPECIAL_SYMBOL","pauseSymbol","parser","parse","txt","closeTips","trim","offset","collection","startTextIndex","result","analyze","nextOffset","end","textResult","getText","explain","getMessage","symbol","indexOf","quoteParse","timeParse","codeParse","emParse","delLineParse","substring","begin","substr","expectLevel","realLevel","preData","endSmall","split","eachData","join","firIndex","secIndex","delay","clock","getTimeStamp","test","forEach","TIME_UNIT","MINUTE","HOURS","DAY","SECOND","TIME_UNIT_ARRAY","values","year","getFullYear","month","getMonth","getDate","hour","getHours","minutes","getMinutes","second","getSeconds","unit","day","getChineseDay","Number","isInteger","diffDay","getDay","clockArray","time","getTime","isNaN","str","eachBlock","UndoLi","_renderLi","listData","onInsertTag","collect","is-active animated tada","Time_Time","Tags_Tags","HyperLink_HyperLink","Emphasize_Emphasize","Code_Code","Delete_Delete","Text_Text","storeKey","onSelect","onDelete","draggable","react_beautiful_dnd_esm","isDragDisabled","draggableId","provided","snapshot","assign","innerRef","draggableProps","dragHandleProps","isDragging","draggableStyle","objectSpread","userSelect","background","Checkbox_Checkbox","CloseBtn_CloseBtn","getDragOverStyle","isDragOver","color","border","Input","handleKeydown","onEnter","refInput","handleEmptyInput","focus","handleInputChange","id","empty","parseData","renderData","defineProperty","droppableId","Fragment","UndoLi_UndoLi","placeholder","isDraggingOver","array","newArray","_newArray$push","defaultValue","err","copy","obj","UndoList","nextProps","list","eachList","_this$props3","enterActive","leaveActive","transitionEnter","transitionLeave","react_transition_group","transitionName","enter","leave","transitionEnterTimeout","transitionLeaveTimeout","_renderUndoLi","ToolBtn","Tool","onClose","Btn","fileHelper","_fakeClick","ev","initMouseEvent","save","name","urlObject","URL","webkitURL","export_blob","Blob","save_link","createElementNS","href","createObjectURL","download","readJson","Promise","resolve","reject","reader","FileReader","files","readAsText","onload","res","readyState","json","ACCEPT_TYPE","Uploader","click","handleRead","then","THEME","DEFAULT","WHITE","THEME_KEY","keys","THEME_STORE_KEY","ColorTheme","activeTheme","init","themeValue","getItem","eachKey","currTheme","DROP_TYPE","TODO","DONE","INPUT","CATEGORY","ANIMATE","LIST_KEYS","INIT_CATEGORY_KEY","TIME_KEY","TEST_PARSER","ALL_DATA_READ_AND_RENDER","ALL_LIST_READ_AND_RENDER","getRealStoreKey","category","getAntiStoreKey","App","getTheme","_readData","categoryKey","openTool","_readList","timeEnd","tempData","insertOneData","isEnter","newData","_Tip$getTip","getTip","handleActive","antiStoreKey","antiData","_Tip$getTip2","antiTip","unshift","realStoreKey","toggleOneData","antiKey","deleteOneData","enableAnimate","brieflyCloseAnimate","dragData","tag","insertValue","onDragEnd","source","destination","todoData","sourceIndex","sourceMsg","newList","destinationIndex","i","tempShake","newTempData","changeCategory","handleSave","saveObj","eachCategory","tempStoreKey","readObj","handleInputFocus","handleInputBlur","handleInputEnter","handleToggleTool","handleThemeChange","theme","todoEnterAnimate","doneData","isSmall","is-small","tabIndex","open-tool","Tip_Tip","Status_Status","UndoList_UndoList","Category_Category","Input_Input","Tool_Tool","Tool_ToolBtn","Uploader_Uploader","ColorTheme_ColorTheme","src_App","getElementById"],"mappings":"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","file":"static/js/main.4ea8aa00.chunk.js","sourcesContent":["import React, {PureComponent} from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\nimport './index.scss';\n\nlet popup = null;\nlet appendAnchor = null;\n\nconst createContainer = () => {\n    const div = document.createElement('div');\n    div.className = 'tool-tip';\n    return div;\n};\n\nconst getAnchor = () => {\n    if (appendAnchor) {\n        return appendAnchor;\n    } else {\n        appendAnchor = document.querySelector('#root');\n        return appendAnchor;\n    }\n};\n\nconst DIRECTION = {\n    TOP: 'top',\n    Bottom: 'bottom',\n}\n\nclass ToolTipContent extends PureComponent {\n    static propTypes = {\n        x: PropTypes.number.isRequired,\n        y: PropTypes.number.isRequired,\n        title: PropTypes.string.isRequired,\n        target: PropTypes.object.isRequired,\n    };\n\n    state = {\n        left: 0,\n        top: 0,\n    };\n\n    componentDidMount() {\n        this.adjustUI();\n    }\n\n    adjustUI = () => {\n        const {y, target} = this.props;\n        const {clientWidth, clientHeight} = this.refContent;\n        const width = parseInt(clientWidth);\n        const height = parseInt(clientHeight);\n        const rect = target.getBoundingClientRect();\n        let margin = 10;\n        let left =  rect.left + rect.width / 2 - width / 2;\n        let top =  Math.max(y + margin, rect.bottom + margin);\n        let anchor = getAnchor();\n        if (left + width > anchor.clientWidth) {\n            left = (rect.left - rect.width / 2) - width;\n            top = rect.top - height / 2 + rect.height / 2;\n        }\n        if (top + height > anchor.clientHeight) {\n            top = rect.top - rect.height / 2 - height;\n        }\n        this.setState({\n            left, top\n        })\n    };\n\n    render() {\n        const {title} = this.props;\n        const {left, top} = this.state;\n        return (\n            <div className='content'\n                 ref={comp => this.refContent = comp}\n                 style={{left, top}}>{title}</div>\n        );\n    }\n}\n\nexport default class ToolTip extends PureComponent {\n    static propTypes = {\n        title: PropTypes.string.isRequired,\n        direction: PropTypes.oneOf(Object.values(DIRECTION)),\n        children: PropTypes.object,\n    };\n\n    handleMouseEnter = (e) => {\n        const {pageX: x, pageY: y, currentTarget: target} = e;\n        const {title} = this.props;\n        if(!title || title === '') {\n            return false;\n        }\n        if (!popup) {\n            popup = createContainer();\n        }\n        if (!appendAnchor) {\n            appendAnchor = getAnchor();\n        }\n        appendAnchor.appendChild(popup);\n        ReactDOM.render(\n            <ToolTipContent\n                x={x} y={y}\n                title={title} target={target}/>, popup)\n    };\n\n    handleMouseLeave = (e) => {\n        if (popup && popup.isConnected && appendAnchor) {\n            ReactDOM.unmountComponentAtNode(popup);\n            appendAnchor.removeChild(popup);\n        }\n    };\n\n    handleClick = (e) => {\n        const {onClick, children} = this.props;\n        if (onClick) {\n            onClick(e);\n        } else if (typeof children === 'object' && children.props.onClick) {\n            children.props.onClick();\n        }\n    };\n\n    render() {\n        let {children} = this.props;\n        if (typeof children !== 'object') {\n            children = <span>{children}</span>\n        }\n        const props = {\n            onMouseEnter: this.handleMouseEnter,\n            onMouseLeave: this.handleMouseLeave,\n            onClick: this.handleClick,\n        };\n        return React.cloneElement(children, props);\n    }\n}","const TODO_CONFIG = {\n    LIMIT_WORDS: 100, // 允许输入的字\n    // 默认分类\n    CATEGORY_LIST : [\n        {key: 'default', value: '默认'},\n        // {key: 'work', value: '工作'},\n        // {key: 'home', value: '家庭'},\n        // {key: 'study', value: '学习'},\n        // {key: 'other', value: '其它'}\n    ],\n    // 存储层次的key\n    STORE_CATEGORY_KEY: '__category',\n    STORE_ACTIVE_CATEGORY_KEY: '__active_category',\n    STORE_TODO_KEY: '__todoList',\n    STORE_DONE_KEY: '__doneList',\n    // 显示层次的key\n    RENDER_PARSE_KEY: '__parseData',\n    RENDER_ACTIVE_KEY: '__active',\n    RENDER_STRING_KEY: '__string',\n};\n\nexport default TODO_CONFIG;","const KEYCODE = {\n    // UNDEFINED: 1,\n    // UNDEFINED: 2,\n    // UNDEFINED: 3,\n    // UNDEFINED: 4,\n    // UNDEFINED: 5,\n    // UNDEFINED: 6,\n    // UNDEFINED: 7,\n    BACKSPACE: 8,\n    TAB: 9,\n    // UNDEFINED: 10,\n    // UNDEFINED: 11,\n    CLEAR: 12,\n    ENTER: 13,\n    // UNDEFINED: 14,\n    // UNDEFINED: 15,\n    SHIFT: 16,\n    CONTROL: 17,\n    ALT: 18,\n    Pause: 19,\n    CAPE_LOCK: 20,\n    // UNDEFINED: 21,\n    // UNDEFINED: 22,\n    // UNDEFINED: 23,\n    // UNDEFINED: 24,\n    // UNDEFINED: 25,\n    // UNDEFINED: 26,\n    ESC: 27,\n    // UNDEFINED: 28,\n    // UNDEFINED: 29,\n    // UNDEFINED: 30,\n    // UNDEFINED: 31,\n    SPACEBAR: 32,\n    PAGEUP: 33,\n    PAGEDOWN: 34,\n    END: 35,\n    HOME: 36,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n    SELECT: 41,\n    PRINT: 42,\n    EXECUTE: 43,\n    UNDEFINED: 44,\n    INSERT: 45,\n    DELETE: 46,\n    Help: 47,\n    ZERO: 48,\n    ONE: 49,\n    TWO: 50,\n    THREE: 51,\n    FOUR: 52,\n    FIVE: 53,\n    SIX: 54,\n    SEVEN: 55,\n    EIGHT: 56,\n    NINE: 57,\n    // UNDEFINED: 58,\n    // UNDEFINED: 59,\n    // UNDEFINED: 60,\n    // UNDEFINED: 61,\n    // UNDEFINED: 62,\n    // UNDEFINED: 63,\n    // UNDEFINED: 64,\n    A: 65,\n    B: 66,\n    C: 67,\n    D: 68,\n    E: 69,\n    F: 70,\n    G: 71,\n    H: 72,\n    I: 73,\n    J: 74,\n    K: 75,\n    L: 76,\n    M: 77,\n    N: 78,\n    O: 79,\n    P: 80,\n    Q: 81,\n    R: 82,\n    S: 83,\n    T: 84,\n    U: 85,\n    V: 86,\n    W: 87,\n    X: 88,\n    Y: 89,\n    Z: 90,\n    META_LEFT: 91,\n    // UNDEFINED: 92,\n    META_RIGHT: 93,\n    // UNDEFINED: 94,\n    // UNDEFINED: 95,\n    NUMPAD_0: 96,\n    NUMPAD_1: 97,\n    NUMPAD_2: 98,\n    NUMPAD_3: 99,\n    NUMPAD_4: 100,\n    NUMPAD_5: 101,\n    NUMPAD_6: 102,\n    NUMPAD_7: 103,\n    NUMPAD_8: 104,\n    NUMPAD_9: 105,\n    NUMPAD_MULTIPLY: 106,\n    NUMPAD_ADD: 107,\n    // UNDEFINED: 108,\n    NUMPAD_SUBTRACT: 109,\n    NUMPAD_DECIMAL: 110,\n    NUMPAD_DIVIDE: 111,\n    F1: 112,\n    F2: 113,\n    F3: 114,\n    F4: 115,\n    F5: 116,\n    F6: 117,\n    F7: 118,\n    F8: 119,\n    F9: 120,\n    F10: 121,\n    F11: 122,\n    F12: 123,\n    F13: 124,\n    F14: 125,\n    F15: 126,\n    F16: 127,\n    F17: 128,\n    F18: 129,\n    F19: 130,\n    F20: 131,\n    F21: 132,\n    F22: 133,\n    F23: 134,\n    F24: 135,\n    NUM_LOCK: 144,\n    SCROLL_LOCK: 145,\n    EQUAL: 187,\n    PERIOD: 188,\n    MINUS: 189,\n    COMMA: 190,\n    LEFT_PARENTHESIS: 219,\n    RIGHT_PARENTHESIS: 221,\n};\n\nexport default KEYCODE;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport './index.scss';\nimport ToolTip from \"../../Common/ToolTip\";\nimport TODO_CONFIG from '../../../config';\nimport KEYCODE from \"../../../tool/keycode\";\n\nconst store = window.localStorage;\n\nconst {STORE_CATEGORY_KEY} = TODO_CONFIG;\nconst DELETE_KEY = ':d'; // 删除\n\nexport default class Category extends PureComponent {\n    static propTypes = {\n        activeKey: PropTypes.string.isRequired,\n        onChange: PropTypes.func.isRequired,\n        options: PropTypes.array.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            focusIndex: -1,\n            focusKey: null,\n            options: props.options,\n            focusValue: '',\n        }\n    }\n\n    componentWillReceiveProps(newProps) {\n        if (newProps.options !== this.props.options) {\n            this.setState({\n                options: newProps.options\n            });\n        }\n    }\n\n    onClick = (key) => {\n        this.props.onChange(key);\n    };\n\n    onKeyDown = (event) => {\n        if (event.nativeEvent.keyCode === KEYCODE.ENTER) {\n            const {focusKey} = this.state;\n            this.onBlur(focusKey);\n        }\n    };\n\n    onFocus = (key, value, index) => {\n        this._preValue = value;\n        this.setState({\n            focusKey: key,\n            focusValue: value,\n            focusIndex: index\n        })\n    };\n\n    deleteOption = (index) => {\n        const {options} = this.state;\n        options.splice(index, 1);\n        this.setState({\n            options: [...options]\n        });\n        store.setItem(STORE_CATEGORY_KEY, JSON.stringify(options));\n    };\n\n    onBlur = (key) => {\n        const {focusIndex, focusKey, focusValue, options} = this.state;\n        if (key === focusKey) {\n            this.setState({\n                focusIndex: -1,\n                focusValue: '',\n                focusKey: null,\n            })\n        }\n\n        // 没有输入内容\n        let modifyCategory = options[focusIndex];\n        if (!focusValue) {\n            if (modifyCategory && modifyCategory.isNew === true) {\n               this.deleteOption(focusIndex);\n            }\n            return false;\n        }\n\n        // 有内容\n        if (focusValue === DELETE_KEY) {\n            // 特殊的键值\n            this.deleteOption(focusIndex);\n            return false;\n        } else if (modifyCategory.isNew === true) {\n            modifyCategory = {\n                key: focusValue,\n                value: focusValue,\n            };\n        } else {\n            modifyCategory.value = focusValue;\n        }\n        options[focusIndex] = modifyCategory;\n        store.setItem(STORE_CATEGORY_KEY, JSON.stringify(options));\n        this.props.onChange(modifyCategory.key);\n    };\n\n    onValueChange = (event) => {\n        this.setState({\n            focusValue: event.target.value,\n        });\n    };\n\n    addEmptyCategory = ()  => {\n        const {options} = this.state;\n        let newOptions = [...options];\n        let randomKey = '' + Math.random();\n        let emptyCategory = {key: randomKey, value: '', isNew: true};\n        newOptions.push(emptyCategory);\n        this.setState({\n            focusIndex: options.length,\n            focusKey: randomKey,\n            options: newOptions\n        })\n    };\n\n    _renderEachCategory(key, value, index) {\n        const {focusKey, focusValue} = this.state;\n        const {activeKey} = this.props;\n        const isFocus = key === focusKey;\n        return (\n            <li key={key}\n                className={cs({'is-active': key === activeKey, 'is-focus': isFocus})}\n                onDoubleClick={() => {this.onFocus(key, value, index)}}\n                onClick={() => {this.onClick(key)}}>\n                {\n                    isFocus ?\n                        <input autoFocus\n                               className={'category-input'}\n                               value={focusValue}\n                               onBlur={() => {this.onBlur(key)}}\n                               onKeyPress={this.onKeyDown}\n                               onChange={this.onValueChange}/> :\n                        <ToolTip title={value}><span>{value}</span></ToolTip>\n                }\n                </li>\n        )\n    }\n\n    render() {\n        const {options} = this.state;\n        return (\n            <div className=\"todo-category\">\n                <ul>\n                    {\n                        options.map((eachOption, index) => {\n                            const {key, value} = eachOption;\n                            return this._renderEachCategory(key, value, index);\n                        })\n                    }\n                    <li className={'add-category'} onClick={this.addEmptyCategory}>\n                        <ToolTip title={'添加分类'}>\n                            <i className={`iconfont icon-plus`}/>\n                        </ToolTip>\n                    </li>\n                </ul>\n            </div>\n        )\n    }\n}","\nconst eventHelper = {\n    TYPE: {\n        TIP: 'tip',\n    },\n    stop(event) {\n        event.stopPropagation();\n        event.preventDefault();\n    },\n    dispatch(type, detail={}, bubbles = true, cancellable = true) {\n        const event = document.createEvent('CustomEvent');\n        event.initCustomEvent(type, bubbles, cancellable, detail);\n        window.dispatchEvent(event);\n    }\n};\n\nexport default eventHelper;","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\n\nimport eventHelper from '../../../tool/event';\nimport TODO_CONFIG from '../../../config';\n\nimport './index.scss';\n\nexport default class Tip extends PureComponent {\n\n    static propTypes = {\n        duration: PropTypes.number,\n    };\n\n    state = {\n        tip: '',\n        active: false,\n    };\n\n    componentWillMount() {\n        window.addEventListener(eventHelper.TYPE.TIP, this._showTip);\n    }\n\n    componentWillUnmount() {\n        window.addEventListener(eventHelper.TYPE.TIP, this._showTip);\n    }\n\n    static showTip = (tip, timeout) => {\n        eventHelper.dispatch(eventHelper.TYPE.TIP, {tip, timeout});\n    };\n\n    // 根据输入的内容获得对应的提示\n    static getTip(value, message, isAnti) {\n        const length = value.length;\n        let findIndex = -1;\n        let stringKey = TODO_CONFIG.RENDER_STRING_KEY;\n        message.some((eachMessage, index) => {\n            if (eachMessage[stringKey] === value) {\n                findIndex = index;\n                return true;\n            }\n            return false;\n        });\n        if (isAnti !== true) {\n            if (length === 0) {\n                return {tip: '哈哈哈，小哑巴！'};\n            }\n        }\n        if (findIndex !== -1) {\n            return {\n                index: findIndex,\n                tip: '你已经说过啦！真啰嗦~'\n            }\n        }\n        return {\n            tip: ''\n        }\n    }\n\n    _showTip = (event) => {\n        const {duration} = this.props;\n        const {tip, timeout} = event.detail;\n        if (this.tipsTimout) {\n            clearTimeout(this.tipsTimout);\n            this.tipsTimout = null;\n        }\n        this.setState({\n            tip, active: true\n        });\n        this.tipsTimout = setTimeout(() => {\n            this.setState({ active: false });\n        }, timeout || duration || 2000);\n    };\n\n    render() {\n        const {tip, active} = this.state;\n        if (!tip) {\n            return null;\n        }\n        return (\n            <div className={cs(\"tips\", { \"is-active\": active })}>{`${tip}`}</div>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport './index.scss';\n\nconst STATUS = {\n    GOOD: 'good',\n    OK: 'ok',\n    BUSY: 'busy',\n};\n\nexport default class Status extends PureComponent {\n    static propTypes = {\n        length: PropTypes.number.isRequired,\n        isActive: PropTypes.bool.isRequired,\n        onClick: PropTypes.func,\n        onMouseEnter: PropTypes.func,\n        onMouseLeave: PropTypes.func,\n    };\n\n    state = {\n        isActive: false\n    };\n\n    render() {\n        const {length, isActive, onClick, onMouseEnter, onMouseLeave} = this.props;\n        const status = length <= 2 ? STATUS.GOOD : length <= 5 ? STATUS.OK : STATUS.BUSY;\n        return (\n            <div className={cs('status', status, {'is-active': isActive})}\n                 onMouseEnter={onMouseEnter}\n                 onMouseLeave={onMouseLeave}\n                 onClick={onClick}/>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport './index.scss';\n\nexport default class CloseBtn extends PureComponent {\n    static propTypes = {\n        className: PropTypes.string,\n        onClick: PropTypes.func.isRequired,\n    };\n\n    onClick = (event) => {\n        this.props.onClick(event);\n    };\n\n    render() {\n       const {className} = this.props;\n        return (\n            <button className={cs('cross', 'close-btn', className)}\n                    onClick={this.onClick} />\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport './index.scss';\n\nexport default class Checkbox extends PureComponent {\n    static propTypes = {\n        checked: PropTypes.bool,\n        onChange: PropTypes.func,\n        small: PropTypes.bool,\n    };\n\n    toggleChecked = () => {\n        const {onChange, checked} = this.props;\n        onChange && onChange(!checked);\n    };\n    render() {\n        const {checked, small} = this.props;\n        return (\n            <div className={cs(\"checkbox\", {'checked': checked, 'small': small})} \n                onClick={this.toggleChecked}/>\n        )\n    }\n}","const OS_TYPE = {\n    WIN: 'win',\n    MAC: 'mac',\n    LINUX: 'linux',\n};\n\n// 通过userAgent得到当前系统\nfunction getOSType(){\n    if(navigator.userAgent.indexOf(\"Window\")>0){\n        return OS_TYPE.WIN;\n    }else if(navigator.userAgent.indexOf(\"Mac OS X\")>0) {\n        return OS_TYPE.MAC;\n    }else {\n        return OS_TYPE.LINUX;\n    }\n}\n\n// 通知\nconst notify = (title, body) => {\n    console.log('通知：', title, body);\n    new Notification(title, {\n        body,\n    });\n};\n\n// 跳转URL\nconst goToUrl = (url, errCb) => {\n    try {\n        const { shell } = window.require('electron');\n        shell.openExternal(url);\n    } catch (e) {\n        try {\n            window.open(url, '_blank');\n        } catch (e) {\n            errCb && errCb();\n        }\n    }\n};\n\nexport {OS_TYPE, getOSType, notify, goToUrl};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\n\nimport ToolTip from '../../Common/ToolTip';\n\nimport TODO_CONFIG from '../../../config'\nimport {notify} from \"../../../tool/adaptor\";\n\nimport './index.scss';\n\nexport default class Time extends Component {\n    static propTypes = {\n        index: PropTypes.number,\n        data: PropTypes.object.isRequired,\n        disabled: PropTypes.bool,\n        onActive: PropTypes.func,\n    };\n\n    componentDidMount() {\n        const {data, disabled, onActive} = this.props;\n        if (data && onActive && !disabled) {\n            const {data: timeData} = data;\n            let now = Date.now();\n            let timeStamp = timeData.timeStamp;\n            let diff = timeStamp - now;\n            if (diff  <= 0) {\n                this.notify();\n            } else {\n                this.timeoutKey = setTimeout(() => {\n                    this.notify();\n                }, diff);\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.timeoutKey) {\n            clearTimeout(this.timeoutKey);\n        }\n    }\n\n    notify() {\n        const {index, data, onActive} = this.props;\n        notify('亲，你还有事件没做哦', data[TODO_CONFIG.RENDER_STRING_KEY]);\n        onActive(index);\n    }\n\n    formatTime(date) {\n        return date.toLocaleString();\n    }\n\n    render() {\n        const {data} = this.props.data;\n        let nextTime = this.formatTime(data);\n        return (\n            <span className='time'>\n                <ToolTip title={nextTime}>\n                    <i className='iconfont icon-time-circle'/>\n                </ToolTip>\n            </span>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\nimport './index.scss';\n\nexport default class Tags extends PureComponent {\n    static propTypes = {\n        data: PropTypes.object.isRequired,\n        onDblClick: PropTypes.func,\n    };\n\n    onDoubleClick = (eachTag) => {\n        const {onDblClick} = this.props;\n        onDblClick(eachTag);\n    };\n\n    render() {\n        const {data} = this.props.data;\n        if(!data || !Array(data.tags) || data.tags.length === 0) {\n            return null;\n        }\n        return (\n            <span className='tags'>\n                {\n                    data.tags.map((eachTag) => {\n                        return <span className='tag' key={eachTag}\n                                     onDoubleClick={() => {this.onDoubleClick(eachTag)}}>{eachTag}</span>\n                    })\n                }\n            </span>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\n\nimport {goToUrl} from \"../../../tool/adaptor\";\n\nimport './index.scss';\nimport Tip from \"../../Exclusive/Tip\";\nimport ToolTip from \"../../Common/ToolTip\";\n\nexport default class HyperLink extends PureComponent {\n    static propTypes = {\n        data: PropTypes.object.isRequired,\n    };\n\n    jumpTo(url) {\n        let realUrl = url;\n        if (!url.startsWith('http')) {\n            realUrl = `https://${url}`;\n\n        }\n        goToUrl(realUrl, function () {\n            Tip.showTip(`\"${url}\" 不是合法Url`);\n        });\n    }\n\n    render() {\n        const {data} = this.props.data;\n        return (\n            <span className='hyperlink'>\n                <ToolTip title={data.link} direction=\"top\">\n                    <button onClick={() => {this.jumpTo(data.link)}}>{data.value}</button>\n                </ToolTip>\n            </span>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\nimport './index.scss';\n\nexport default class Emphasize extends PureComponent {\n    static propTypes = {\n        data: PropTypes.object.isRequired,\n    };\n\n    render() {\n        const {key, data} = this.props.data;\n        if (!data) {\n            return null;\n        }\n        return (\n            <span className={key}>{data.value}</span>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport './index.scss';\n\nexport default class Code extends PureComponent {\n    static propTypes = {\n        data: PropTypes.object.isRequired,\n    };\n\n    render() {\n        const {data} = this.props.data;\n        return (\n            <pre className='code'>{data.value}</pre>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\nimport './index.scss';\n\nexport default class Delete extends PureComponent {\n    static propTypes = {\n        data: PropTypes.object.isRequired,\n    };\n\n    render() {\n        const {data} = this.props.data;\n        return (\n            <span className='delete'>{data.value}</span>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\nimport './index.scss';\n\nexport default class Text extends PureComponent {\n    static propTypes = {\n        data: PropTypes.object.isRequired,\n    };\n\n    render() {\n        const {data} = this.props;\n        return (\n            <span className='text'>{data.content}</span>\n        )\n    }\n}","const PARSER_TEST = [\n\n    // // 时间\n    // '>2d 13:20 常规的时间',\n    // '>1s 推迟一秒',\n    // '> 15:30 没有推迟时间的时间输入',\n    // '> 错误的时间输入',\n    // '巴拉巴拉 >2d 24:30 时间解析不解析', // 应该解析\n    // '>2d 13 半个时间',\n    // '> 周六 中文的时间',\n    // '>周六 中文的时间，没有空格',\n    // '>14:20 应该支持时间没有空格'\n\n    // 时间-暂不支持\n    // '>ew 15:20 ', // ew会被解析成时间，15:20会被解析成文本\n    // '>ew 15:20 后面有字',\n\n    // // 分类\n    // ' [hahah, lalala] 正常的分类输入',\n    // '[ 错误的分类输入',\n    // '[只有分类]',\n    // '巴拉巴拉 [出现在中间, 的分类] 分类解析不解析', // 应该解析\n\n    // // 超链接\n    // '我跟你讲，[baidu](https://www.baidu.com)真的很好用',\n    // '假如[分类][链接](https://www.baidu.com)同时存在',\n\n    // // 代码\n    // '代码`console.log(\"aa\")`部分',\n    // '这种情况``应该解析为纯文本',\n\n    // // 强调\n    // '* italic *文本',\n    // '**em ** 强调',\n    // '*** italic&em ***强调和意大利',\n    // '**fa*', // 应该被解析成Italic，\n    // '***fa*', // 应该被解析成Italic\n    // '***fa**', // 应该被解析成em\n    // '****fa***', // 应该被解析成Italic & em\n\n    // // 删除线\n    // '~~aaa~~ 你好啊',\n\n    // // 完整的功能\n    // '>2d 13:20 [A, B] 所有的[格式](www.baidu.com)*能***否*****正***`常`~~展~~示？',\n\n    // // 其他错误的发现\n    // '0>2d 13:20 [A, B] 所有的[格式](www.baidu.com) *能* **否** ***正*** `常` ~~展~~ 示？0'\n];\n\nexport default PARSER_TEST;","import TODO_CONFIG from '../config';\nimport PARSER_TEST from './parser_test';\n\nconst TOKEN_TYPE = {\n    TIME: 'time',\n    TAG: 'tag',\n    TEXT: 'text',\n    // 以下为MD的格式\n    HYPERLINK: 'hyperlink',\n    CODE: 'code',\n    ITALIC: 'italic',\n    EM: 'em',\n    EM_ITALIC: 'em-italic',\n    DELETE: 'delete',\n};\n\nexport {TOKEN_TYPE};\n\nconst SPECIAL_SYMBOL = {\n    LEFT_QUOTE: '[',\n    RIGHT_QUOTE: ']',\n    TIME: '>',\n    COMMA: ',',\n    LEFT_SMALL_QUOTE: '(',\n    RIGHT_SMALL_QUOTE: ')',\n    GRAVE_ACCENT: '`',\n    STAR: '*',\n    WAVE: '~',\n};\nconst pauseSymbol = ['[', ']', '>', '`', '*', '~'];\n\n/**\n *  基本格式：\n *  自定义命令 + 正文内容\n *  eg: >2d 15:13 [tag1, tag2] your plan\n *\n *  自定义命令：\n *   - >2d 15:30 >日期 时间\n *      - >2d: 两天之后\n *      - >ed: 每天\n *      - >ew-3: 每周三\n *   - [xxx, xxx, xxx]:tag\n *\n *  正文内容支持局部的MD格式：\n *   - **XXX** // 强调\n *   - [xxx](http://www.baidu.com) // 链接\n *    - `xxx` // 代码块\n *   - ~~xxx~~ // 删除线\n *   - *xxx* // italic\n *   - **xxx** // 强调\n *   - ***xxx*** // 强调 & italic\n *\n * 每个单元的返回的通用结果：\n * result: {\n *     startIndex: xxx,\n *     endIndex: xxx,\n *     key: xxx, // 代表所属语义\n *     content: xxx,\n *     data: {\n *         value: ''\n *     }\n * }\n */\n\nconst parser = {\n    // 将用户输入解析为Todo识别的数据\n    parse(txt, closeTips) {\n        if (typeof txt !== 'string' || txt.length === 0) {\n            if (closeTips !== true) {\n                console.log('输入的数据有误，请确保输入源为非空字符串');\n            }\n            return false;\n        }\n        txt = txt.trim();\n        let length = txt.length;\n        let offset = 0;\n        let collection = [];\n        let startTextIndex = -1;\n        // 逐字解析\n        while (offset < length) {\n            const result = parser.analyze(txt, offset);\n            if (result) {\n                let nextOffset = result.end + 1;\n                if (nextOffset <= offset) {\n                    offset = offset + 1;\n                    if (closeTips !== true) {\n                        console.log(`解析错误: ${txt}, ${offset}`)\n                    }\n                } else {\n                    // 处理正常文字流\n                    if (startTextIndex !== -1) {\n                        let textResult = parser.getText(txt, startTextIndex, offset - 1);\n                        collection.push(textResult);\n                        startTextIndex = -1;\n                    }\n                    offset = nextOffset;\n                }\n                collection.push(result);\n            } else {\n                if (startTextIndex === -1) {\n                    startTextIndex = offset;\n                }\n                offset = offset + 1;\n            }\n        }\n        // 处理正常文字流\n        if (startTextIndex !== -1) {\n            let textResult = parser.getText(txt, startTextIndex);\n            collection.push(textResult);\n        }\n        // 默认完整的解析在第一个结构中\n        collection[0][TODO_CONFIG.RENDER_STRING_KEY] = explain.getMessage(collection);\n        if(closeTips !== true) {\n            // console.log(`执行解析数据: ${txt}`);\n            console.log(`txt: ${txt}, parseData:`, collection);\n        }\n        return collection;\n    },\n    analyze(txt, offset) {\n        let symbol = txt[offset];\n        let result = null;\n\n        let isFind = pauseSymbol.indexOf(symbol) !== -1;\n        if (isFind) {\n            switch (symbol) {\n                case SPECIAL_SYMBOL.LEFT_QUOTE: {\n                    result = parser.quoteParse(txt, offset);\n                    break;\n                }\n                case SPECIAL_SYMBOL.TIME: {\n                    result = parser.timeParse(txt, offset);\n                    break;\n                }\n                case SPECIAL_SYMBOL.GRAVE_ACCENT: {\n                    result = parser.codeParse(txt, offset);\n                    break;\n                }\n                case SPECIAL_SYMBOL.STAR: {\n                    result = parser.emParse(txt, offset);\n                    break;\n                }\n                case SPECIAL_SYMBOL.WAVE: {\n                    result = parser.delLineParse(txt, offset);\n                    break;\n                }\n                default: {\n                    // do nothing\n                }\n            }\n        }\n\n        return result;\n    },\n    getText(txt, offset, nextOffset) {\n        if (typeof nextOffset !== 'undefined') {\n            const content = txt.substring(offset, nextOffset + 1);\n            return {\n                begin: offset,\n                end: nextOffset,\n                key: TOKEN_TYPE.TEXT,\n                content,\n                data: {\n                    value: content\n                }\n            }\n        } else {\n            const content = txt.substr(offset);\n            return {\n                begin: offset,\n                end: txt.length - 1,\n                key: TOKEN_TYPE.TEXT,\n                content,\n                data: {\n                    value: content\n                }\n            }\n        }\n    },\n    // 删除线\n    delLineParse(txt, offset) {\n        txt = txt.substr(offset);\n        if (txt[1] !== SPECIAL_SYMBOL.WAVE) {\n            return null;\n        }\n        let end = txt.indexOf('~~', 3);\n        if (end === -1) {\n            return null;\n        }\n        return {\n            begin: offset,\n            end: end + offset + 1,\n            key: TOKEN_TYPE.DELETE,\n            content: txt.substring(0, end + 2),\n            data: {\n                value: txt.substring(2, end),\n            }\n        }\n    },\n    // 加强等级\n    emParse(txt, offset) {\n        txt = txt.substr(offset);\n        let end = 0;\n        let key = null;\n        let content = null;\n        let value = null;\n\n        // 期望加强等级\n        let expectLevel = 0;\n        if (txt[1] === SPECIAL_SYMBOL.STAR) {\n            if (txt[2] === SPECIAL_SYMBOL.STAR) {\n                expectLevel = 2;\n            } else {\n                expectLevel = 1;\n            }\n        }\n        // 实际加强等级\n        let realLevel = -1;\n\n        // 以下代码暂不循环了，罗列所有情况，这样直观一点\n        switch (expectLevel) {\n            case 0: {\n                end = txt.indexOf('*', 2);\n                if (end !== -1) {\n                    realLevel = 0;\n                }\n                break;\n            }\n            case 1: {\n                end = txt.indexOf('**', 3);\n                if (end === -1) {\n                    end = txt.indexOf('*', 3);\n                    if (end !== -1) {\n                        realLevel = 0;\n                    }\n                } else {\n                    realLevel = 1;\n                }\n                break;\n            }\n            case 2: {\n                end = txt.indexOf('***', 4);\n                if (end === -1) {\n                    end = txt.indexOf('**', 4);\n                    if (end === -1) {\n                        end = txt.indexOf('*', 4);\n                        if (end !== -1) {\n                            realLevel = 0;\n                        }\n                    } else {\n                        realLevel = 1;\n                    }\n                } else {\n                    realLevel = 2;\n                }\n                break;\n            }\n            default: // do nothing\n        }\n\n        if (realLevel === -1) {\n            return null;\n        }\n        // 最后得出结果\n        switch (realLevel) {\n            case 0: {\n                key = TOKEN_TYPE.ITALIC;\n                value = txt.substring(1, end);\n                content = txt.substring(0, end + 1);\n                break;\n            }\n            case 1: {\n                key = TOKEN_TYPE.EM;\n                value = txt.substring(2, end);\n                end = end + 1;\n                content = txt.substring(0, end + 1);\n                break;\n            }\n            case 2: {\n                key = TOKEN_TYPE.EM_ITALIC;\n                value = txt.substring(3, end);\n                end = end + 2;\n                content = txt.substring(0, end + 1);\n                break;\n            }\n            default: // do nothing\n        }\n        return {\n            begin: offset,\n            end: end + offset,\n            key,\n            content,\n            data: {value}\n        }\n    },\n    // 代码块\n    codeParse(txt, offset) {\n        txt = txt.substr(offset);\n        let end = 0;\n\n        end = txt.indexOf(SPECIAL_SYMBOL.GRAVE_ACCENT, 2);\n\n        if (end === -1) {\n            return null;\n        } else {\n            return {\n                begin: offset,\n                end: end + offset,\n                key: TOKEN_TYPE.CODE,\n                content: txt.substring(0, end + 1),\n                data: {\n                    value: txt.substring(1, end)\n                }\n            }\n        }\n    },\n    quoteParse(txt, offset) {\n        txt = txt.substr(offset);\n        let end = 0;\n        let content = null;\n        let data = null;\n        let key = TOKEN_TYPE.TAG;\n\n        end = txt.indexOf(SPECIAL_SYMBOL.RIGHT_QUOTE);\n\n        if (end === -1) {\n            return null\n        }\n\n        content = txt.substring(0, end + 1);\n        let preData = txt.substring(1, end);\n        // 假如是超链接\n        if (txt[end + 1] === SPECIAL_SYMBOL.LEFT_SMALL_QUOTE) {\n            let endSmall = txt.indexOf(SPECIAL_SYMBOL.RIGHT_SMALL_QUOTE);\n            if (endSmall !== -1) {\n                content = txt.substring(0, endSmall + 1);\n                key = TOKEN_TYPE.HYPERLINK;\n                data = {\n                    value: txt.substring(1, end),\n                    link: txt.substring(end + 2, endSmall),\n                };\n                end = endSmall;\n            }\n            return {\n                begin: offset,\n                end: end + offset,\n                key,\n                content,\n                data\n            }\n        } else {\n            // 是普通分类\n            let tags = preData.split(SPECIAL_SYMBOL.COMMA);\n            tags = tags.map((eachData) => {\n                return eachData.trim();\n            });\n            return {\n                begin: offset,\n                end: end + offset,\n                key,\n                content,\n                data: {\n                    tags,\n                    value: tags.join('、')\n                }\n            }\n        }\n    },\n    // 时间\n    timeParse(txt, offset) {\n        txt = txt.substr(offset);\n        let firIndex = txt.indexOf(' ');\n        let secIndex = txt.indexOf(' ', firIndex + 1);\n        let delay = txt.substring(1, firIndex); // 推迟的时间\n\n        if (secIndex !== -1) {\n            let clock = txt.substring(firIndex + 1, secIndex); // 选中的时间\n            let timeStamp = explain.getTimeStamp(delay, clock);\n            return {\n                begin: offset,\n                end: secIndex + offset,\n                content: txt.substring(0, secIndex),\n                key: TOKEN_TYPE.TIME,\n                data: {\n                    delay,\n                    clock,\n                    timeStamp,\n                    value: clock\n                }\n            }\n        } else {\n            // 处理只有>，后面无命令的情况\n            if (txt[1] === ' ') {\n                return;\n            }\n            let timeStamp = explain.getTimeStamp(delay);\n            return {\n                begin: offset,\n                end: firIndex + offset,\n                content: txt.substring(0, firIndex),\n                key: TOKEN_TYPE.TIME,\n                data: {\n                    delay,\n                    timeStamp,\n                }\n            }\n        }\n\n    },\n    test() {\n        PARSER_TEST.forEach(function (eachData) {\n            parser.parse(eachData);\n        });\n    }\n};\n\nconst TIME_UNIT = {\n    MINUTE: 'm',\n    HOURS: 'h',\n    DAY: 'd',\n    SECOND: 's',\n};\n\nconst TIME_UNIT_ARRAY = Object.values(TIME_UNIT);\n\nconst explain = {\n    getTimeStamp(delay, clock) {\n        const now = new Date();\n        const year = now.getFullYear();\n        const month = now.getMonth();\n        let date = now.getDate();\n        let hour = now.getHours();\n        let minutes = now.getMinutes();\n        let second = now.getSeconds();\n\n        // 冗余处理，处理 >14:30这种情况\n        if (delay.indexOf(':') !== -1) {\n            clock = delay;\n            delay = null;\n        }\n\n        // 分析delay\n        if (delay) {\n            let unit = delay[delay.length - 1];\n            let value = null;\n            if (TIME_UNIT_ARRAY.indexOf(unit) === -1) {\n                let day = explain.getChineseDay(delay);\n                if (Number.isInteger(day)) {\n                    let currDay = now.getDay();\n                    let diffDay = day - currDay;\n                    diffDay = diffDay < 0 ? diffDay + 7 : diffDay;\n                    date += diffDay;\n                } else {\n                    unit = TIME_UNIT.DAY;\n                    value = delay;\n                }\n            } else {\n                value = parseInt(delay.substring(0, delay.length - 1));\n            }\n            switch (unit) {\n                case TIME_UNIT.SECOND: {\n                    second += value;\n                    break;\n                }\n                case TIME_UNIT.MINUTE: {\n                    minutes += value;\n                    break;\n                }\n                case TIME_UNIT.HOURS: {\n                    hour += value;\n                    break;\n                }\n                case TIME_UNIT.DAY:\n                default:\n                    date += value;\n                    break;\n            }\n        }\n        // 分析时间\n        if (clock) {\n            let clockArray = clock.split(':');\n            if (clockArray.length === 1) {\n                if (Number.isInteger(clockArray[0])) {\n                    hour = clockArray[0];\n                } else {\n                    let day = explain.getChineseDay(clockArray[0]);\n                    if (Number.isInteger(day)) {\n                        let currDay = now.getDay();\n                        let diffDay = day - currDay;\n                        diffDay = diffDay < 0 ? diffDay + 7 : diffDay;\n                        date += diffDay;\n                    }\n                }\n            } else {\n                hour = clockArray[0];\n                minutes = clockArray[1];\n            }\n        }\n\n        let newDate = new Date(year, month, date, hour, minutes, second);\n        let time = newDate.getTime();\n        if (Number.isNaN(time)) {\n        }\n        return time;\n    },\n    getChineseDay(clock) {\n        switch(clock) {\n            case '星期一':\n            case '周一': return 1;\n            case '星期二':\n            case '周二': return 2;\n            case '星期三':\n            case '周三': return 3;\n            case '星期四':\n            case '周四': return 4;\n            case '星期五':\n            case '周五': return 5;\n            case '星期六':\n            case '周六': return 6;\n            case '星期天':\n            case '周日': return 7;\n            default:\n                return undefined;\n        }\n    },\n    getMessage(collection) {\n        let str = '';\n        collection.forEach(function (eachBlock) {\n            let eachData = eachBlock.data;\n            if (eachBlock.key === TOKEN_TYPE.TIME || eachBlock.key === TOKEN_TYPE.TAG) {\n\n            } else {\n                str += eachData.value;\n            }\n        });\n        return str;\n    },\n};\n\nparser.test();\n\nexport default parser;","import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport {Draggable} from \"react-beautiful-dnd\";\nimport Checkbox from \"../../Common/Checkbox\";\nimport CloseBtn from \"../../Common/CloseBtn\";\nimport Time from \"../../Render/Time\";\nimport Tags from \"../../Render/Tags\";\nimport HyperLink from \"../../Render/HyperLink\";\nimport Emphasize from \"../../Render/Emphasize\";\nimport Code from \"../../Render/Code\";\nimport Delete from \"../../Render/Delete\";\nimport Text from \"../../Render/Text\";\n\nimport TODO_CONFIG from \"../../../config\";\nimport {TOKEN_TYPE} from \"../../../tool/parser\";\n\nimport './index.scss';\n\nconst {RENDER_PARSE_KEY, RENDER_ACTIVE_KEY} = TODO_CONFIG;\n\n// 拖拽的样式\nconst getItemStyle = (isDragging, draggableStyle) => ({\n    userSelect: 'none',\n    background: isDragging && 'rgba(255, 255, 255, 0.2)',\n    ...draggableStyle,\n});\n\nexport default class UndoLi extends PureComponent {\n    static propTypes = {\n        index: PropTypes.number,\n        listData: PropTypes.object.isRequired,\n        small: PropTypes.bool,\n        checked: PropTypes.bool,\n        storeKey: PropTypes.string,\n        className: PropTypes.string,\n        draggable: PropTypes.bool,\n        onSelect: PropTypes.func,\n        onDelete: PropTypes.func,\n        onActive: PropTypes.func,\n        onInsertTag: PropTypes.func,\n    };\n\n    _renderLi = () => {\n        const {listData, index, checked, onActive, onInsertTag} = this.props;\n        let collect = listData[RENDER_PARSE_KEY];\n        let isActive = listData[RENDER_ACTIVE_KEY];\n        return (\n            <div className={cs('message', {'is-active animated tada': isActive && !checked})}>\n                {\n                    collect.map((eachData) => {\n                        let key = eachData.begin + eachData.content;\n                        switch (eachData.key) {\n                            case TOKEN_TYPE.TIME:\n                                return <Time key={key} index={index} onActive={onActive}\n                                             data={eachData} disabled={checked}/>;\n                            case TOKEN_TYPE.TAG:\n                                return <Tags key={key} data={eachData} onDblClick={onInsertTag}/>;\n                            case TOKEN_TYPE.HYPERLINK:\n                                return <HyperLink key={key} data={eachData}/>;\n                            case TOKEN_TYPE.ITALIC:\n                            case TOKEN_TYPE.EM:\n                            case TOKEN_TYPE.EM_ITALIC:\n                                return <Emphasize key={key} data={eachData}/>;\n                            case TOKEN_TYPE.CODE:\n                                return <Code key={key} data={eachData}/>;\n                            case TOKEN_TYPE.DELETE:\n                                return <Delete key={key} data={eachData}/>;\n                            case TOKEN_TYPE.TEXT:\n                            default:\n                                return <Text key={key} data={eachData}/>;\n                        }\n                    })\n                }\n            </div>\n        )\n    };\n\n    render() {\n        const {\n            index, listData, small,  checked, storeKey, className,\n            onSelect, onDelete, draggable\n        } = this.props;\n        const isActive = listData[RENDER_ACTIVE_KEY] === true ? 1 : 0;\n        if (draggable) {\n            return (\n                <Draggable\n                    key={listData.value + isActive}\n                    index={index}\n                    isDragDisabled={!draggable}\n                    draggableId={listData.value + index}>\n                    {(provided, snapshot) => (\n                        <li ref={provided.innerRef}\n                            className={cs(\"li\", className, {\"checked\": checked})}\n                            {...provided.draggableProps}\n                            {...provided.dragHandleProps}\n                            style={getItemStyle(\n                                snapshot.isDragging,\n                                provided.draggableProps.style,\n                            )}>\n                            {\n                                onSelect &&\n                                <Checkbox\n                                    small={small}\n                                    checked={checked}\n                                    onChange={(value) => {\n                                        onSelect(index, value, storeKey)\n                                    }}/>\n                            }\n                            {this._renderLi()}\n                            {\n                                onDelete &&\n                                <CloseBtn onClick={(event) => {\n                                    onDelete(index, storeKey, event)\n                                }}/>\n                            }\n\n                        </li>\n                    )}\n                </Draggable>\n            )\n        } else {\n            return (\n                <li className={cs(\"li undo-li\", className, {\"checked\": checked})}>\n                    {\n                        onSelect &&\n                        <Checkbox\n                            small={small}\n                            checked={checked}\n                            onChange={(value) => {\n                                onSelect(index, value, storeKey)\n                            }}/>\n                    }\n                    {this._renderLi()}\n                    {\n                        onDelete &&\n                        <CloseBtn onClick={(event) => {\n                            onDelete(index, storeKey, event)\n                        }}/>\n                    }\n\n                </li>\n            )\n        }\n\n    }\n}","import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {Droppable} from \"react-beautiful-dnd\";\nimport cs from 'classnames';\n\nimport CloseBtn from '../../Common/CloseBtn/index';\nimport Tip from '../Tip/index';\nimport UndoLi from \"../UndoList/UndoLi\";\n\nimport parser from \"../../../tool/parser\";\nimport TODO_CONFIG from \"../../../config/index\";\nimport KEYCODE from '../../../tool/keycode';\n\nimport './index.scss';\n\nconst {RENDER_PARSE_KEY} = TODO_CONFIG;\n\nfunction getDragOverStyle(isDragOver) {\n    if (isDragOver) {\n        return {\n            color: 'transparent',\n            background: 'rgba(0, 0, 0, .5)',\n            border: '1px solid rgba(255, 255, 255, .8)',\n        }\n    }\n}\n\nexport default class Input extends PureComponent {\n    static propTypes = {\n        id: PropTypes.string,\n        value: PropTypes.string,\n        className: PropTypes.string,\n        focus: PropTypes.bool,\n        max: PropTypes.number,\n        onFocus: PropTypes.func,\n        onBlur: PropTypes.func,\n        onChange: PropTypes.func,\n        onEnter: PropTypes.func,\n    };\n\n    componentWillReceiveProps(newProps) {\n        if (newProps.value !== this.state.value) {\n            this.setState({\n                value: newProps.value\n            }, () => {\n                this.refInput.value = newProps.value;\n                this.refInput.focus();\n            });\n        }\n    }\n\n    state = {\n        value: '',\n    };\n\n    handleKeydown = (event) => {\n        const {onEnter} = this.props;\n        if (onEnter && event.nativeEvent.keyCode === KEYCODE.ENTER) {\n            const value = this.refInput.value;\n            this.setState({value});\n            if (onEnter(value)) {\n                this.handleEmptyInput();\n            }\n        }\n    };\n\n    handleEmptyInput = () => {\n        this.props.onChange('');\n        this.setState({value: ''});\n        this.refInput.value = '';\n        this.refInput.focus();\n    };\n\n    // 输入框内容发生改变\n    handleInputChange = (event) => {\n        let value = event.target.value;\n        const {max, onChange} = this.props;\n        if (max && value && value.length > max) {\n            Tip.showTip('无法加载更多');\n            value = value.substr(0, max);\n            this.refInput.value = value;\n        }\n        this.setState({value});\n        onChange && onChange(value);\n    };\n\n    render() {\n        const {id, className, focus, onFocus, onBlur} = this.props;\n        const {value} = this.state;\n        const empty = value.length === 0;\n        const parseData = parser.parse(value, true);\n        const renderData = {\n            [RENDER_PARSE_KEY]: parseData\n        };\n\n        // focus && !empty && parseData &&\n\n        return (\n            <Droppable droppableId={id}>\n                {\n                    (provided, snapshot) => (\n                        <React.Fragment>\n                            {\n                                (parseData && parseData.length >= 2) &&\n                                <UndoLi className={cs(\"input-li\", {'focus': focus})} listData={renderData}/>\n                            }\n                            <div ref={provided.innerRef}\n                                 className={cs(\"input-wrapper\", className,\n                                     {'empty': empty, 'focus': focus})}>\n                                {provided.placeholder}\n                                <input\n                                    ref={comp => {\n                                        this.refInput = comp\n                                    }}\n                                    style={getDragOverStyle(snapshot.isDraggingOver)}\n                                    placeholder={' Enter 确认'}\n                                    onFocus={onFocus}\n                                    onBlur={onBlur}\n                                    onChange={this.handleInputChange}\n                                    onKeyPress={this.handleKeydown}/>\n                                {\n                                    !empty &&\n                                    <CloseBtn onClick={this.handleEmptyInput}/>\n                                }\n                            </div>\n                        </React.Fragment>\n                    )\n                }\n            </Droppable>\n\n        )\n    }\n}","// import fastJson from 'fast-json-stringify';\nimport TODO_CONFIG from '../config';\n\nconst {RENDER_ACTIVE_KEY, RENDER_STRING_KEY} = TODO_CONFIG;\n\n// 该方法只针对列表数据，用以过滤不必要的数据\nconst stringify = function (array) {\n    if(array.length === 0) {\n        return '[]'\n    } else {\n        let newArray = [];\n        array.forEach((eachData) => {\n            newArray.push({\n                value: eachData.value,\n                [RENDER_ACTIVE_KEY]: eachData[RENDER_ACTIVE_KEY],\n                [RENDER_STRING_KEY]: eachData[RENDER_STRING_KEY],\n            });\n        });\n        return JSON.stringify(newArray) ;\n    }\n};\n\n// 一个包含错误处理的parse\nconst parse = function(value, defaultValue) {\n    let data = null;\n    try {\n        data = JSON.parse(value);\n    } catch (err) {\n\n    }\n    if (!data) {\n        data = defaultValue;\n    }\n    return data;\n};\n\nconst copy = function (obj) {\n    return JSON.parse(JSON.stringify(obj));\n};\n\nexport {stringify, parse, copy};","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {Droppable} from \"react-beautiful-dnd\";\nimport {CSSTransitionGroup} from 'react-transition-group'\nimport cs from 'classnames';\n\nimport UndoLi from './UndoLi';\n\nimport {stringify} from \"../../../tool/json\";\n\nimport './index.scss';\n\nexport default class UndoList extends Component {\n    static propTypes = {\n        id: PropTypes.string,\n        className: PropTypes.string,\n        storeKey: PropTypes.string.isRequired,\n        list: PropTypes.array,\n        checked: PropTypes.bool,\n        small: PropTypes.bool,\n        placeholder: PropTypes.string,\n        enterActive: PropTypes.string,\n        leaveActive: PropTypes.string,\n        transitionEnter: PropTypes.bool,\n        transitionLeave: PropTypes.bool,\n        draggable: PropTypes.bool,\n        onSelect: PropTypes.func,\n        onDelete: PropTypes.func,\n        onInsertTag: PropTypes.func,\n\n    };\n\n    shouldComponentUpdate(nextProps) {\n        const {list} = this.props;\n        if (list.length !== nextProps.list.length) {\n            return true;\n        }\n        let preList = stringify(list);\n        let newList = stringify(nextProps.list);\n        if (preList !== newList) {\n            return true;\n        }\n        return false;\n    }\n\n    onActive = (index) => {\n        const {storeKey, onActive} = this.props;\n        onActive(index, storeKey);\n    };\n\n    _renderUndoLi(eachList, index) {\n        const {small, checked, storeKey, draggable, onSelect, onDelete, onInsertTag} = this.props;\n        return (\n            <UndoLi\n                listData={eachList}\n                key={eachList.value}\n                index={index}\n                small={small}\n                checked={checked}\n                storeKey={storeKey}\n                draggable={draggable}\n                onSelect={onSelect}\n                onDelete={onDelete}\n                onActive={this.onActive}\n                onInsertTag={onInsertTag}/>\n        )\n    }\n\n    render() {\n        let {\n            id, placeholder, className, list,\n            enterActive, leaveActive, transitionEnter, transitionLeave,\n        } = this.props;\n\n        return (\n            <Droppable droppableId={id}>\n                {\n                    (provided, snapshot) => (\n                        <ul\n                            ref={provided.innerRef}\n                            className={cs('list', className)}>\n                            {\n                                (!list || list.length === 0) && placeholder &&\n                                <div key=\"place-older\"\n                                     className=\"list-holder\">{placeholder}</div>\n                            }\n                            <CSSTransitionGroup\n                                transitionName={{\n                                    enter: \"animated\",\n                                    enterActive: enterActive || \"bounceIn\",\n                                    leave: \"animated\",\n                                    leaveActive: leaveActive || \"fadeOutRight\"\n                                }}\n                                transitionEnter={transitionEnter && true}\n                                transitionLeave={transitionLeave && true}\n                                transitionEnterTimeout={300}\n                                transitionLeaveTimeout={200}>\n                                {\n                                    list.map((eachList, index) => {\n                                        return this._renderUndoLi(eachList, index);\n                                    })\n                                }\n                            </CSSTransitionGroup>\n                            {provided.placeholder}\n                        </ul>\n                    )\n                }\n            </Droppable>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport './index.scss';\nimport CloseBtn from \"../../Common/CloseBtn\";\n\nclass ToolBtn extends PureComponent {\n    static propTypes = {\n        type: PropTypes.string,\n        onClick: PropTypes.func,\n        onClose: PropTypes.func,\n        onMouseEnter: PropTypes.func,\n        onMouseLeave: PropTypes.func,\n    };\n\n    render() {\n        const {type, onClick, onMouseEnter, onMouseLeave} = this.props;\n        return (\n            <div className=\"tool-btn\"\n                 onMouseEnter={onMouseEnter}\n                 onMouseLeave={onMouseLeave}\n                 onClick={onClick}>\n                <i className={`iconfont icon-${type}`}/>\n            </div>\n        )\n    }\n}\n\nexport {ToolBtn};\n\nexport default class Tool extends PureComponent {\n\n    static Btn = ToolBtn;\n\n    static propTypes = {\n        isActive: PropTypes.bool.isRequired,\n        children: PropTypes.array,\n    };\n\n    render() {\n        const {isActive, children, onClose} = this.props;\n        return (\n            <div className={cs('tool', {'is-active': isActive})}>\n                { isActive && children }\n                <CloseBtn onClick={onClose}/>\n            </div>\n        )\n    }\n}","const fileHelper = {\n    _fakeClick(obj) {\n        let ev = document.createEvent('MouseEvents');\n        ev.initMouseEvent(\n            'click', true, false, window, 0, 0, 0, 0, 0\n            , false, false, false, false, 0, null\n        );\n        obj.dispatchEvent(ev);\n    },\n    save(name, data) {\n        const urlObject = window.URL || window.webkitURL || window;\n        const export_blob = new Blob([data]);\n        const save_link = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');\n        save_link.href = urlObject.createObjectURL(export_blob);\n        save_link.download = name;\n        fileHelper._fakeClick(save_link);\n    },\n    readJson(event) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            const files = event.target.files;\n            reader.readAsText(files[0]);\n            reader.onload = function(res) {\n                const target = res.target;\n                if (target.readyState === 2) {\n                    try {\n                        let json = JSON.parse(target.result);\n                        resolve(json);\n                    } catch(err) {\n                        reject(err);\n                    }\n                  \n                }\n            }\n        });\n    }\n};\n\nexport default fileHelper;","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n// import cs from 'classnames';\nimport './index.scss';\nimport fileHelper from \"../../../tool/file\";\n\nconst ACCEPT_TYPE = {\n    JSON: 'json',\n    TEXT: 'text',\n};\n\nexport {ACCEPT_TYPE};\n\nexport default class Uploader extends PureComponent {\n    static propTypes = {\n        type: PropTypes.oneOf([ACCEPT_TYPE.JSON, ACCEPT_TYPE.TEXT]),\n        onChange: PropTypes.func.isRequired,\n        children: PropTypes.object,\n        onMouseEnter: PropTypes.func,\n        onMouseLeave: PropTypes.func,\n    };\n\n    handleClick = () => {\n        this.refInput.click();\n    }\n\n    handleRead = (event) => {\n        const {type, onChange} = this.props;\n        switch(type) {\n            case ACCEPT_TYPE.JSON: {\n                fileHelper.readJson(event).then(function (data) {\n                   onChange(data);\n                });\n                break;\n            }\n            case ACCEPT_TYPE.TEXT: {\n                break;\n            }\n            default: {\n\n            }\n        }\n    }\n\n    render() {\n        const {children, onMouseEnter, onMouseLeave} = this.props;\n        return (\n            <div className='upload-wrapper'\n                 onMouseEnter={onMouseEnter}\n                 onMouseLeave={onMouseLeave}\n                 onClick={this.handleClick}>\n                <input ref={comp => this.refInput = comp}\n                       className=\"read\" type=\"file\" onChange={this.handleRead}/>\n                { children }\n            </div>\n        )\n    }\n}","import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\nimport './index.scss';\nimport ToolTip from \"../../Common/ToolTip\";\n\nexport const THEME = {\n    DEFAULT: {\n        title: '黑夜',\n        className: 'black'\n    },\n    WHITE: {\n        title: '白昼',\n        className: 'white'\n    }\n};\n\nconst THEME_KEY = Object.keys(THEME);\n\nconst store = window.localStorage;\nconst THEME_STORE_KEY = '__theme';\n\nexport default class ColorTheme extends PureComponent {\n    static propTypes = {\n        onChange: PropTypes.func.isRequired,\n    };\n\n    state = {\n        activeTheme: '',\n    };\n\n    static getTheme() {\n        let themeValue = store.getItem(THEME_STORE_KEY) || 'DEFAULT';\n        return THEME[themeValue].className;\n    }\n\n    componentDidMount() {\n        let themeValue = store.getItem(THEME_STORE_KEY) || 'DEFAULT';\n        this.onChange(themeValue, true);\n    }\n\n    onChange = (activeTheme, init) => {\n        if (!init) {\n            store.setItem(THEME_STORE_KEY, activeTheme);\n        }\n        this.setState({\n            activeTheme\n        });\n        this.props.onChange(THEME[activeTheme].className);\n    };\n\n    render() {\n        const {activeTheme} = this.state;\n        return (\n            <div className=\"color-theme\">\n                <span className=\"color-title\">主题色：</span>\n                {\n                    THEME_KEY.map((eachKey) => {\n                        let currTheme = THEME[eachKey];\n                        return (\n                            <ToolTip key={eachKey} title={currTheme.title}>\n                                <span className={cs('color-block', currTheme.className,\n                                    {'is-active': activeTheme === eachKey})}\n                                      onClick={() => {\n                                          this.onChange(eachKey)\n                                      }}/>\n                            </ToolTip>\n                        )\n                    })\n                }\n            </div>\n        )\n    }\n}","export const DROP_TYPE = {\n    TODO: 'TODO',\n    DONE: 'DONE',\n    INPUT: 'INPUT',\n    CATEGORY: 'CATEGORY',\n};","import React, {PureComponent} from 'react';\nimport cs from 'classnames';\nimport {DragDropContext} from \"react-beautiful-dnd\";\nimport Category from './Component/Exclusive/Category';\nimport Tip from './Component/Exclusive/Tip';\nimport Status from './Component/Exclusive/Status';\nimport Input from './Component/Exclusive/Input';\nimport UndoList from './Component/Exclusive/UndoList';\nimport Tool, {ToolBtn} from './Component/Exclusive/Tool';\nimport Uploader, {ACCEPT_TYPE} from \"./Component/Common/Uploader\";\nimport ColorTheme from './Component/Exclusive/ColorTheme';\nimport ToolTip from './Component/Common/ToolTip';\n\nimport TODO_CONFIG from './config';\nimport fileHelper from './tool/file';\nimport {stringify, parse, copy} from './tool/json';\n\nimport './app.scss';\nimport './icon/icons.scss';\nimport parser from \"./tool/parser\";\nimport {DROP_TYPE} from \"./tool/drag\";\n\n\nconst store = window.localStorage;\n\nconst ANIMATE = {\n    INSERT_TODO: 'bounceIn',\n    INSERT_DONE: 'slideInDown',\n};\n\n// 从配置中读取信息\nconst {\n    CATEGORY_LIST, LIMIT_WORDS, STORE_TODO_KEY,\n    STORE_DONE_KEY, STORE_CATEGORY_KEY, STORE_ACTIVE_CATEGORY_KEY,\n    RENDER_ACTIVE_KEY, RENDER_PARSE_KEY, RENDER_STRING_KEY\n} = TODO_CONFIG;\nconst LIST_KEYS = [STORE_TODO_KEY, STORE_DONE_KEY];\nconst INIT_CATEGORY_KEY = CATEGORY_LIST[0].key;\n\n// 性能打桩\nconst TIME_KEY = {\n    TEST_PARSER: '【解析数据】解析输入文本耗时：',\n    ALL_DATA_READ_AND_RENDER: '【所有数据】读取 & 渲染耗时：',\n    ALL_LIST_READ_AND_RENDER: '【列表数据】读取 & 渲染耗时：',\n};\n\nconst getRealStoreKey = function (category, key) {\n    return `__${category}_${key}`;\n};\n\nconst getAntiStoreKey = function (storeKey) {\n    return storeKey === STORE_TODO_KEY ? STORE_DONE_KEY : STORE_TODO_KEY;\n};\n\nclass App extends PureComponent {\n    state = {\n        [STORE_TODO_KEY]: [], // 未完成的消息\n        [STORE_DONE_KEY]: [], // 已经完成的消息\n        focus: false, // input是否focus\n        category: CATEGORY_LIST, // 总分类\n        categoryKey: INIT_CATEGORY_KEY, // 当前激活的分类\n        openTool: false, // 打开工具栏\n        enableAnimate: false, // 禁用动画\n        todoEnterAnimate: '',\n        theme: ColorTheme.getTheme(), // THEME.DEFAULT,\n        insertValue: '',\n    };\n\n    componentDidMount() {\n        this._readData().then(this.brieflyCloseAnimate);\n    }\n\n    __testRender() {\n        // console.time(TIME_KEY.TEST_PARSER);\n        // const str = '>2d 13:20 [A, B] 所有的[格式](www.baidu.com) *能* **否** ***正*** `常` ~~展~~ 示？';\n        // const testTimes = 100;\n        // for(let i=0; i< testTimes; i++) {\n        //     parser.parse(str);\n        // }\n        // for(let i = 0; i< testTimes; i++) {\n        //     setTimeout(() => {\n        //         return this.insertOneData({\n        //             value: i + str + i\n        //         }, STORE_DONE_KEY, false);\n        //     }, 100 * i);\n        // }\n        // console.timeEnd(TIME_KEY.TEST_PARSER);\n    }\n\n    // 从持久化中读取数据\n    _readData = () => {\n        return new Promise((resolve) => {\n            console.time(TIME_KEY.ALL_DATA_READ_AND_RENDER);\n            const category = parse(store.getItem(STORE_CATEGORY_KEY), CATEGORY_LIST);\n            store.setItem(STORE_CATEGORY_KEY, JSON.stringify(category));\n            const categoryKey = store.getItem(STORE_ACTIVE_CATEGORY_KEY) || category[0].key;\n            console.time(TIME_KEY.ALL_LIST_READ_AND_RENDER);\n            this.setState({\n                category,\n                categoryKey,\n                openTool: false,\n            }, () => {\n                this._readList().then(() => {\n                    resolve();\n                    console.timeEnd(TIME_KEY.ALL_DATA_READ_AND_RENDER);\n                    console.timeEnd(TIME_KEY.ALL_LIST_READ_AND_RENDER);\n                });\n            });\n        });\n    };\n    // 读取每列数据\n    _readList = () => {\n        return new Promise((resolve) => {\n            const {categoryKey} = this.state;\n            LIST_KEYS.forEach((eachKey) => {\n                const storeKey = getRealStoreKey(categoryKey, eachKey);\n                const tempData = parse(store.getItem(storeKey), []);\n                tempData.forEach(function (eachData) {\n                    if (!eachData[RENDER_PARSE_KEY]) {\n                        eachData[RENDER_PARSE_KEY] = parser.parse(eachData.value);\n                        eachData[RENDER_STRING_KEY] = eachData[RENDER_PARSE_KEY][0][RENDER_STRING_KEY];\n                    }\n                });\n                this.setState({\n                    [eachKey]: tempData\n                });\n            });\n            resolve();\n        });\n    };\n\n    /**\n     * 对列表进行相关的数据操作 Start\n     */\n    insertOneData = (data, storeKey, isEnter) => {\n        if (!data || data.value === '') {\n            Tip.showTip('输入不可为空');\n            return false;\n        }\n\n        const {categoryKey} = this.state;\n        const preData = this.state[storeKey];\n\n        // 解析该行命令\n        const newData = [...preData];\n        if (!data[RENDER_PARSE_KEY]) {\n            data[RENDER_PARSE_KEY] = parser.parse(data.value);\n        }\n        // 假如之前是激活状态，则不再激活该list（作用域切换）\n        if (data[RENDER_ACTIVE_KEY] === true) {\n            data[RENDER_ACTIVE_KEY] = false;\n        }\n        if (!data[RENDER_STRING_KEY]) {\n            data[RENDER_STRING_KEY] = data[RENDER_PARSE_KEY][0][RENDER_STRING_KEY];\n        }\n\n        // 校验数据是否合法\n        const {tip, index} = Tip.getTip(data[RENDER_STRING_KEY], newData, !isEnter);\n        if (tip) {\n            Tip.showTip(tip);\n            if (index >= 0) {\n                this.handleActive(index, storeKey, true);\n            }\n            return false;\n        }\n        if (isEnter === true) {\n            const antiStoreKey = getAntiStoreKey(storeKey);\n            const antiData = this.state[antiStoreKey];\n            const {tip: antiTip, index} = Tip.getTip(data[RENDER_STRING_KEY], antiData, true);\n            if (antiTip) {\n                Tip.showTip(antiTip);\n                if (index >= 0) {\n                    this.handleActive(index, antiStoreKey, true);\n                }\n                return false;\n            }\n        }\n\n        // 更改数据\n        newData.unshift(data);\n        const realStoreKey = getRealStoreKey(categoryKey, storeKey);\n        store.setItem(realStoreKey, stringify(newData));\n        this.setState({\n            [storeKey]: newData,\n        });\n        return true;\n    };\n    // 完成或未完成列表\n    toggleOneData = (index, value, storeKey) => {\n        const preData = this.state[storeKey];\n        const antiKey = getAntiStoreKey(storeKey);\n        const deleteOneData = preData[index];\n        if (this.insertOneData(deleteOneData, antiKey)) {\n            this.deleteOneData(index, storeKey, true);\n        }\n    };\n    // 删除列表\n    deleteOneData = (index, storeKey, enableAnimate) => {\n        const {categoryKey} = this.state;\n        const preData = this.state[storeKey];\n        const newData = [...preData];\n        newData.splice(index, 1);\n        const realStoreKey = getRealStoreKey(categoryKey, storeKey);\n        store.setItem(realStoreKey, stringify(newData));\n        if (enableAnimate !== true) {\n            this.brieflyCloseAnimate();\n        }\n        this.setState({\n            [storeKey]: newData\n        });\n    };\n    dragData = (listData, storeKey) => {\n        const {categoryKey} = this.state;\n        this.setState({\n            [storeKey]: [...listData]\n        });\n        const realStoreKey = getRealStoreKey(categoryKey, storeKey);\n        store.setItem(realStoreKey, stringify(listData));\n    };\n    onInsertTag = (tag) => {\n        const {insertValue} = this.state;\n        // 不重复才添加\n        if (insertValue.indexOf(`[${tag}]`) === -1) {\n            this.setState({\n                insertValue: `[${tag}]${insertValue}`\n            });\n        } else {\n            Tip.showTip('不可添加重复的标签');\n        }\n    };\n    onDragEnd = (result) => {\n        const {source, destination} = result;\n        if (!destination) {\n            return;\n        }\n        const todoData = this.state[STORE_TODO_KEY];\n        const sourceIndex = source.index;\n        const sourceMsg = todoData[sourceIndex];\n\n        switch (destination.droppableId) {\n            case DROP_TYPE.TODO: {\n                const newList = [...todoData];\n                const destinationIndex = destination.index;\n                // 根据拖拽结果调整数据顺序\n                if (sourceIndex < destinationIndex) {\n                    for (let i = sourceIndex; i < destinationIndex; i++) {\n                        newList[i] = newList[i + 1];\n                    }\n                } else if (sourceIndex > destinationIndex) {\n                    for (let i = sourceIndex; i > destinationIndex; i--) {\n                        newList[i] = newList[i - 1];\n                    }\n                }\n                newList[destinationIndex] = sourceMsg;\n                this.dragData(newList, STORE_TODO_KEY);\n                break;\n            }\n            case DROP_TYPE.INPUT: {\n                this.setState({\n                   insertValue: sourceMsg.value\n                }, () => {\n                    this.deleteOneData(sourceIndex, STORE_TODO_KEY, false);\n                });\n                break;\n            }\n            default: break;\n        }\n    };\n\n    /**\n     * 对列表进行相关的数据操作 END\n     */\n\n    /**\n     * 前端交互事件 START\n     */\n        // 摇动一个数据以引起别人注意\n    handleActive = (index, storeKey, tempShake) => {\n        const preData = this.state[storeKey];\n        const newData = copy(preData);\n        let tempData = newData[index];\n        tempData[RENDER_ACTIVE_KEY] = true;\n        this.setState({\n            [storeKey]: [...newData]\n        });\n        if (tempShake === true) {\n            setTimeout(() => {\n                this.brieflyCloseAnimate();\n                let newTempData = copy(tempData);\n                newTempData[RENDER_ACTIVE_KEY] = false;\n                newData[index] = newTempData;\n                this.setState({\n                    [storeKey]: [...newData]\n                })\n            }, 1000);\n        }\n    };\n    // 短暂关闭动画\n    brieflyCloseAnimate = () => {\n        this.setState({\n            enableAnimate: false,\n        });\n        setTimeout(() => {\n            this.setState({\n                enableAnimate: true,\n            })\n        }, 100);\n    };\n    changeCategory = (key) => {\n        this.setState({\n            categoryKey: key,\n        }, () => {\n            store.setItem(STORE_ACTIVE_CATEGORY_KEY, key);\n            this._readList();\n            this.brieflyCloseAnimate();\n        });\n    };\n    handleSave = () => {\n        const {category} = this.state;\n        let saveObj = {};\n        saveObj.category = category;\n        saveObj.data = {};\n        category.forEach((eachCategory) => {\n            const {key} = eachCategory;\n            LIST_KEYS.forEach(function (eachKey) {\n                const tempStoreKey = getRealStoreKey(key, eachKey);\n                saveObj.data[tempStoreKey] = parse(store.getItem(tempStoreKey), []);\n            });\n        });\n        fileHelper.save('config.json', JSON.stringify(saveObj));\n    };\n    handleRead = (readObj) => {\n        const category = readObj.category;\n        const data = readObj.data;\n        store.setItem(STORE_CATEGORY_KEY, JSON.stringify(category));\n        let keys = Object.keys(data);\n        keys.forEach(function (eachKey) {\n            store.setItem(eachKey, stringify(data[eachKey]));\n        });\n        this._readData().then(function () {\n            Tip.showTip('读取成功')\n        });\n    };\n    handleInputFocus = () => {\n        this.setState({focus: true});\n    };\n    handleInputBlur = () => {\n        this.setState({focus: false});\n    };\n    handleInputEnter = (value) => {\n        return this.insertOneData({\n            value\n        }, STORE_TODO_KEY, true);\n    };\n    handleInputChange = (value) => {\n        this.setState({\n            insertValue: value\n        })\n    };\n    handleToggleTool = () => {\n        const {openTool} = this.state;\n        this.setState({\n            openTool: !openTool\n        })\n    };\n    handleThemeChange = (theme) => {\n        this.setState({\n            theme\n        });\n    };\n\n    /**\n     * 前端交互事件 END\n     */\n\n    render() {\n        const {\n            focus, category, categoryKey, openTool,\n            enableAnimate, todoEnterAnimate, theme,\n            insertValue\n        } = this.state;\n        const todoData = this.state[STORE_TODO_KEY];\n        const doneData = this.state[STORE_DONE_KEY];\n        const isSmall = document.querySelector('body').clientWidth <= 310;\n        return (\n            <DragDropContext onDragEnd={this.onDragEnd}>\n                <div id=\"todo-app\" className={cs(`theme-${theme}`, {'is-small': isSmall})} tabIndex=\"0\">\n                    <div className={cs('app-wrapper', {'open-tool': openTool})}>\n                        {/* 其它提示 */}\n                        <Tip/>\n                        {/* 当前状态栏 */}\n                        <Status length={todoData.length} onClick={this.handleToggleTool}\n                                isActive={openTool}/>\n                        {/* 列表 */}\n                        <div className={cs('list-container', {'focus': focus})}>\n                            <UndoList\n                                id={DROP_TYPE.TODO}\n                                storeKey={STORE_TODO_KEY}\n                                className={cs('undo-list')}\n                                list={todoData}\n                                checked={false}\n                                placeholder={\"不来一发吗?\"}\n                                enterActive={todoEnterAnimate}\n                                transitionEnter={enableAnimate}\n                                transitionLeave={false}\n                                draggable={true}\n                                onSelect={this.toggleOneData}\n                                onDelete={this.deleteOneData}\n                                onActive={this.handleActive}\n                                onInsertTag={this.onInsertTag}/>\n                            {\n                                doneData.length > 0 &&\n                                <div className=\"done-split\"/>\n                            }\n                            <UndoList\n                                id={DROP_TYPE.DONE}\n                                storeKey={STORE_DONE_KEY}\n                                className={cs('done-list')}\n                                checked small\n                                list={doneData}\n                                enterActive={ANIMATE.INSERT_DONE}\n                                transitionEnter={false}\n                                transitionLeave={false}\n                                onSelect={this.toggleOneData}\n                                onDelete={this.deleteOneData}\n                                onInsertTag={this.onInsertTag}/>\n                        </div>\n                        {/* 分类 */}\n                        <Category activeKey={categoryKey}\n                                  options={category}\n                                  onChange={this.changeCategory}/>\n                        {/* 输入框 */}\n                        <Input\n                            id={DROP_TYPE.INPUT}\n                            value={insertValue}\n                            focus={!!focus}\n                            max={LIMIT_WORDS}\n                            onFocus={this.handleInputFocus}\n                            onBlur={this.handleInputBlur}\n                            onEnter={this.handleInputEnter}\n                            onChange={this.handleInputChange}\n                        />\n                    </div>\n                    {/* 工具栏 */}\n                    <Tool isActive={openTool} onClose={this.handleToggleTool}>\n                        <ToolTip title=\"导出配置\">\n                            <ToolBtn type='download' onClick={this.handleSave}/>\n                        </ToolTip>\n                        <ToolTip title=\"导入配置\">\n                            <Uploader type={ACCEPT_TYPE.JSON} onChange={this.handleRead}>\n                                <ToolBtn type='upload'/>\n                            </Uploader>\n                        </ToolTip>\n                        <ColorTheme onChange={this.handleThemeChange}/>\n                    </Tool>\n                </div>\n            </DragDropContext>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.scss';\nimport 'animate.css';\nimport './theme/index.scss';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}